(this["webpackJsonpederian-travel-tracker"]=this["webpackJsonpederian-travel-tracker"]||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},19:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(8),i=a.n(r),l=(a(19),a(28)),o=a(34),c=a(35),m=a(36),d=a(37),u=a(38),p=a(39),g=a(40),y=a(41),b=a(42),f=a(33),h=a(43),v=a(29),x=(a(20),a(24)),E=a(25),N=a(26),w=a(27),C=a(30),k=a(31);function S(e,t,a){if(!a[e]||!a[e][t])return[];const s=a[e][t];return s.modes&&"object"===typeof s.modes&&!Array.isArray(s.modes)?Object.keys(s.modes):s.modes&&Array.isArray(s.modes)?s.modes:[]}var P=function(e){let{route:t,cityGraph:a}=e;const r=Object(s.useRef)(null);return Object(s.useEffect)(()=>{if(!t||!t.valid||!r.current)return;const e=r.current,s=e.getContext("2d"),n=e.width,i=e.height;s.fillStyle="#1F2937",s.fillRect(0,0,n,i);const l={},o=Object.keys(a),c=n/2,m=i/2,d=Math.min(n,i)/2.5,u=t.path,p=1.5*Math.PI/(u.length-1||1);let g=Math.PI/4;u.forEach((e,t)=>{const a=g+p*t;l[e]={x:c+Math.cos(a)*d,y:m+Math.sin(a)*d,inRoute:!0}}),o.forEach(e=>{if(!l[e]){const t=Math.random()*Math.PI*2,a=d*(.6+.4*Math.random());l[e]={x:c+Math.cos(t)*a,y:m+Math.sin(t)*a,inRoute:!1}}}),s.lineWidth=1,s.strokeStyle="#4B5563";for(const t in a){const e=l[t];for(const n in a[t]){const r=l[n];0!==S(t,n,a).length&&(s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(r.x,r.y),s.stroke())}}s.lineWidth=4;for(let a=0;a<t.segments.length;a++){const e=t.segments[a],n=l[e.from],r=l[e.to];if(!n||!r)continue;let i;switch(e.mode){case"airship-ederia":case"airship-bordering":case"airship-distant":i="#9333EA";break;case"ryanite-rail-1st":case"ryanite-rail-standard":case"expedited-rail":i="#2563EB";break;case"ship-private":case"ship-shared":i="#0891B2";break;case"caravan":i="#D97706";break;case"swift-rider":i="#DC2626";break;default:i="#D97706"}s.strokeStyle=i,s.beginPath(),s.moveTo(n.x,n.y),s.lineTo(r.x,r.y),s.stroke();const o=Math.atan2(r.y-n.y,r.x-n.x),c=(n.x+r.x)/2,m=(n.y+r.y)/2;s.beginPath(),s.moveTo(c,m),s.lineTo(c-10*Math.cos(o-Math.PI/6),m-10*Math.sin(o-Math.PI/6)),s.lineTo(c-10*Math.cos(o+Math.PI/6),m-10*Math.sin(o+Math.PI/6)),s.closePath(),s.fillStyle=i,s.fill()}for(const a in l){const e=l[a];s.beginPath(),s.arc(e.x,e.y,e.inRoute?10:6,0,2*Math.PI),a===t.path[0]?(s.fillStyle="#10B981",s.strokeStyle="#FFFFFF",s.lineWidth=2,s.stroke()):a===t.path[t.path.length-1]?(s.fillStyle="#DC2626",s.strokeStyle="#FFFFFF",s.lineWidth=2,s.stroke()):e.inRoute?s.fillStyle="#F59E0B":s.fillStyle="#6B7280",s.fill(),s.font=e.inRoute?"bold 14px sans-serif":"12px sans-serif",s.fillStyle=e.inRoute?"#FFFFFF":"#F3F4F6",s.textAlign="center",s.textBaseline="bottom",s.shadowColor="rgba(0, 0, 0, 0.8)",s.shadowBlur=4,s.shadowOffsetX=1,s.shadowOffsetY=1,s.fillText(a,e.x,e.y-12),s.shadowColor="transparent",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0}const y=i-30;let b=20;const f=new Set(t.segments.map(e=>e.mode));(f.has("airship-ederia")||f.has("airship-bordering")||f.has("airship-distant"))&&(s.fillStyle="#9333EA",s.fillRect(b,y,25,4),s.font="12px sans-serif",s.fillStyle="#FFFFFF",s.textAlign="left",s.textBaseline="middle",s.fillText("Airship",b+30,y),b+=100),(f.has("ryanite-rail-1st")||f.has("ryanite-rail-standard")||f.has("expedited-rail"))&&(s.fillStyle="#2563EB",s.fillRect(b,y,25,4),s.font="12px sans-serif",s.fillStyle="#FFFFFF",s.textAlign="left",s.textBaseline="middle",s.fillText("Rail",b+30,y),b+=100),(f.has("ship-private")||f.has("ship-shared"))&&(s.fillStyle="#0891B2",s.fillRect(b,y,25,4),s.font="12px sans-serif",s.fillStyle="#FFFFFF",s.textAlign="left",s.textBaseline="middle",s.fillText("Ship",b+30,y),b+=100),f.has("caravan")&&(s.fillStyle="#D97706",s.fillRect(b,y,25,4),s.font="12px sans-serif",s.fillStyle="#FFFFFF",s.textAlign="left",s.textBaseline="middle",s.fillText("Caravan",b+30,y),b+=100),f.has("swift-rider")&&(s.fillStyle="#DC2626",s.fillRect(b,y,25,4),s.font="12px sans-serif",s.fillStyle="#FFFFFF",s.textAlign="left",s.textBaseline="middle",s.fillText("Swift Rider",b+30,y))},[t,a]),n.a.createElement("div",{className:"bg-gray-900 rounded-lg border-2 border-amber-700 p-5 h-full flex flex-col"},n.a.createElement("h3",{className:"text-xl font-bold text-amber-400 mb-3"},"Route Map"),n.a.createElement("div",{className:"flex-grow flex items-center justify-center"},n.a.createElement("canvas",{ref:r,width:480,height:320,className:"w-full h-auto rounded-md border border-gray-700 max-w-full"})))};const F={"Royal Capital":{Thornefield:{distance:100,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st","airship-ederia"]},"Port Haven":{distance:150,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st","ship-shared","ship-private","airship-ederia"]},"Drakemoor Hold":{distance:120,modes:["caravan","airship-ederia"]},"Astralor Academy":{distance:80,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st","airship-ederia"]}},Thornefield:{"Royal Capital":{distance:100,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st","airship-ederia"]},"Forest Outpost":{distance:75,modes:["caravan"]},"Crossroads Inn":{distance:50,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st"]}},"Port Haven":{"Royal Capital":{distance:150,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st","ship-shared","ship-private","airship-ederia"]},"Veltaris Harbor":{distance:120,modes:["caravan","ship-shared","ship-private"]},"Eastern Shores":{distance:200,modes:["ship-shared","ship-private"]}},"Drakemoor Hold":{"Royal Capital":{distance:120,modes:["caravan","airship-ederia"]},"Mountain Pass":{distance:80,modes:["caravan"]}},"Astralor Academy":{"Royal Capital":{distance:80,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st","airship-ederia"]},"Arcane Outpost":{distance:100,modes:["caravan","airship-ederia"]}},"Forest Outpost":{Thornefield:{distance:75,modes:["caravan"]}},"Crossroads Inn":{Thornefield:{distance:50,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st"]},"Trade Junction":{distance:60,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st"]}},"Veltaris Harbor":{"Port Haven":{distance:120,modes:["caravan","ship-shared","ship-private"]},"Coastal Fortress":{distance:70,modes:["caravan","ship-shared","ship-private"]}},"Eastern Shores":{"Port Haven":{distance:200,modes:["ship-shared","ship-private"]}},"Mountain Pass":{"Drakemoor Hold":{distance:80,modes:["caravan"]},"Border Crossing":{distance:100,modes:["caravan"]}},"Arcane Outpost":{"Astralor Academy":{distance:100,modes:["caravan","airship-ederia"]}},"Trade Junction":{"Crossroads Inn":{distance:60,modes:["caravan","ryanite-rail-standard","ryanite-rail-1st"]}},"Coastal Fortress":{"Veltaris Harbor":{distance:70,modes:["caravan","ship-shared","ship-private"]}},"Border Crossing":{"Mountain Pass":{distance:100,modes:["caravan"]}}};function z(e,t){if(!t||!t.travel)return 24;let a=null;if(t.travel.standard)for(const n of t.travel.standard)if(n.id===e){a=n;break}if(!a&&t.travel.premium)for(const n of t.travel.premium)if(n.id===e){a=n;break}if(!a||!a.speed)return 24;const s=a.speed.match(/(\d+)/);return s?parseInt(s[1]):24}function j(e,t,a,s){if(!s[e]||!s[e][t])return null;const n=s[e][t];return n.modes&&"object"===typeof n.modes&&!Array.isArray(n.modes)?n.modes[a]&&n.modes[a].distance?n.modes[a].distance:null:n.modes&&Array.isArray(n.modes)&&n.modes.includes(a)?n.distance:null}function R(e,t,a,s){if(!a||!a.travel)return 0;let n=null;if(a.travel.standard)for(const m of a.travel.standard)if(m.id===e){n=m;break}if(!n&&a.travel.premium)for(const m of a.travel.premium)if(m.id===e){n=m;break}if(!n)return 0;const r=z(e,a),i=Math.ceil(t/r);let l=0;const o=n.costUnit||"";let c=n.cost||0;return o.includes("silver")&&(c/=20),l=o.includes("/day")&&!o.includes("/person")?c*i:o.includes("/week")?c*Math.ceil(i/7):o.includes("/person/day")?c*s*i:o.includes("/person/week")?c*s*Math.ceil(i/7):c,l}function A(e,t,a){if(!a[e]||!a[e][t])return[];const s=a[e][t];return s.modes&&"object"===typeof s.modes&&!Array.isArray(s.modes)?Object.keys(s.modes):s.modes&&Array.isArray(s.modes)?s.modes:[]}var M=function(e){let{travelData:t={},playerCount:a=1,addToCart:r}=e;const[i,o]=Object(s.useState)(""),[c,m]=Object(s.useState)(""),[d,u]=Object(s.useState)(""),[p,g]=Object(s.useState)("time"),[y,b]=Object(s.useState)(null),[f,h]=Object(s.useState)(F),[S,M]=Object(s.useState)(!1);Object(s.useEffect)(()=>{(async()=>{try{const e=await fetch("/ederian-travel-tracker/data/travel-times.json");if(!e.ok)return console.warn("Could not load travel times from /data. Status:",e.status),void console.log("Using default city graph data");const t=await e.json();h(t),console.log("Loaded travel times from /data directory")}catch(e){console.error("Error loading travel times data:",e),console.log("Using default city graph data")}})()},[]);const U=Object.keys(f),q=(()=>{if(!i||!c)return[];const e=new Set,t=e=>e?e.modes&&"object"===typeof e.modes&&!Array.isArray(e.modes)?Object.keys(e.modes):e.modes&&Array.isArray(e.modes)?e.modes:[]:[];if(f[i]&&f[i][c])return t(f[i][c]);for(const a in f)for(const s in f[a]){t(f[a][s]).forEach(t=>e.add(t))}return Array.from(e)})();return Object(s.useEffect)(()=>{b(null)},[i,c,d,p]),n.a.createElement("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-amber-600 shadow-lg"},n.a.createElement("h2",{className:"text-2xl font-bold text-amber-400 mb-5 flex items-center"},n.a.createElement(x.a,{className:"mr-3",size:24}),"Ederian Route Planner"),n.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-5"},n.a.createElement("div",null,n.a.createElement("label",{className:"block text-base text-amber-300 mb-2 font-medium"},"Origin:"),n.a.createElement("select",{className:"w-full bg-gray-700 border-2 border-gray-600 rounded-md p-3 text-white text-base focus:border-amber-500 focus:outline-none",value:i,onChange:e=>o(e.target.value)},n.a.createElement("option",{value:""},"Select origin city"),U.map(e=>n.a.createElement("option",{key:e,value:e},e)))),n.a.createElement("div",null,n.a.createElement("label",{className:"block text-base text-amber-300 mb-2 font-medium"},"Destination:"),n.a.createElement("select",{className:"w-full bg-gray-700 border-2 border-gray-600 rounded-md p-3 text-white text-base focus:border-amber-500 focus:outline-none",value:c,onChange:e=>m(e.target.value)},n.a.createElement("option",{value:""},"Select destination city"),U.filter(e=>e!==i).map(e=>n.a.createElement("option",{key:e,value:e},e))))),n.a.createElement("div",{className:"mb-5"},n.a.createElement("label",{className:"block text-base text-amber-300 mb-2 font-medium"},"Prioritize:"),n.a.createElement("div",{className:"flex flex-wrap gap-3"},n.a.createElement("button",{className:"px-4 py-2 rounded-md flex items-center text-base font-medium "+("time"===p?"bg-amber-600 text-white border-2 border-amber-400":"bg-gray-700 text-white border-2 border-gray-600 hover:bg-gray-600"),onClick:()=>g("time")},n.a.createElement(E.a,{size:18,className:"mr-2"}),"Fastest"),n.a.createElement("button",{className:"px-4 py-2 rounded-md flex items-center text-base font-medium "+("cost"===p?"bg-amber-600 text-white border-2 border-amber-400":"bg-gray-700 text-white border-2 border-gray-600 hover:bg-gray-600"),onClick:()=>g("cost")},n.a.createElement(N.a,{size:18,className:"mr-2"}),"Cheapest"),n.a.createElement("button",{className:"px-4 py-2 rounded-md flex items-center text-base font-medium "+("comfort"===p?"bg-amber-600 text-white border-2 border-amber-400":"bg-gray-700 text-white border-2 border-gray-600 hover:bg-gray-600"),onClick:()=>g("comfort")},n.a.createElement(w.a,{size:18,className:"mr-2"}),"Most Comfortable"))),n.a.createElement("div",{className:"mb-5"},n.a.createElement("label",{className:"block text-base text-amber-300 mb-2 font-medium"},"Transport Mode (Optional):"),n.a.createElement("select",{className:"w-full bg-gray-700 border-2 border-gray-600 rounded-md p-3 text-white text-base focus:border-amber-500 focus:outline-none",value:d,onChange:e=>u(e.target.value)},n.a.createElement("option",{value:""},"Any available mode"),q.map(e=>{var a,s;const r=[...(null===t||void 0===t||null===(a=t.travel)||void 0===a?void 0:a.standard)||[],...(null===t||void 0===t||null===(s=t.travel)||void 0===s?void 0:s.premium)||[]].find(t=>t&&t.id===e);return r?n.a.createElement("option",{key:e,value:e},r.name," (",r.speed,")"):n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement("button",{className:"w-full bg-amber-600 hover:bg-amber-700 font-bold py-3 px-4 rounded-lg flex items-center justify-center text-black text-lg shadow-md transition-colors duration-200",onClick:()=>{if(!i||!c)return;const e=function(e,t,a,s,n,r,i){const l={},o={},c=new Set,m={};for(const g in e)l[g]=g===t?0:1/0,o[g]=null,c.add(g),m[g]={};for(;c.size>0;){let t=null,d=1/0;for(const e of c)l[e]<d&&(d=l[e],t=e);if(t===a||null===t||l[t]===1/0)break;c.delete(t);for(const a in e[t]){let c,d;if(c=A(t,a,e),s&&!c.includes(s))continue;if(0===c.length)continue;let u,p=s;if("time"===n)if(s){if(u=j(t,a,s,e),null===u)continue;d=u/z(s,r)}else{let s=1/0;for(const n of c){const i=j(t,a,n,e);if(null===i)continue;const l=i/z(n,r);l<s&&(s=l,p=n,u=i)}if(s===1/0)continue;d=s}else if("cost"===n)if(s){if(u=j(t,a,s,e),null===u)continue;d=R(s,u,r,i)}else{let s=1/0;for(const n of c){const l=j(t,a,n,e);if(null===l)continue;const o=R(n,l,r,i);o<s&&(s=o,p=n,u=l)}if(s===1/0)continue;d=s}else if("comfort"===n){const n={"airship-ederia":5,"airship-bordering":5,"airship-distant":5,"ryanite-rail-1st":4,"ship-private":4,"expedited-rail":3,"ryanite-rail-standard":2,"ship-shared":2,caravan:1,"swift-rider":1};if(s){if(u=j(t,a,s,e),null===u)continue;d=u/z(s,r)}else{let s=0,i=1/0;for(const l of c){const o=n[l]||0,c=j(t,a,l,e);if(null===c)continue;const m=c/z(l,r);(o>s||o===s&&m<i)&&(s=o,i=m,p=l,u=c)}if(i===1/0)continue;d=i}}if(void 0===d||void 0===u)continue;const g=l[t]+d;g<l[a]&&(l[a]=g,o[a]=t,m[t][a]={mode:p,distance:u})}}const d=[],u=[];let p=a;for(;null!==p&&null!==o[p];){const e=o[p];d.unshift(p);const t=m[e][p];t&&u.unshift({from:e,to:p,distance:t.distance,mode:t.mode}),p=e}return p===t&&d.unshift(t),{path:d,segments:u,weight:l[a],valid:l[a]!==1/0&&d.includes(a)&&d.includes(t)}}(f,i,c,d,p,t,a);if(e.valid){const s=function(e,t){let a=0;for(const s of e){const e=z(s.mode,t);a+=s.distance/e}return a}(e.segments,t),n=function(e,t,a){let s=0;for(const n of e)s+=R(n.mode,n.distance,t,a);return s}(e.segments,t,a);b({...e,totalTime:s,totalCost:n})}else b(e)},disabled:!i||!c},n.a.createElement(l.a,{size:20,className:"mr-2"}),"Calculate Route"),y&&y.valid&&n.a.createElement("div",{className:"mt-6"},n.a.createElement("div",{className:"bg-gray-900 rounded-lg border-2 border-amber-700 p-4 mb-2"},n.a.createElement("button",{className:"w-full flex items-center justify-between font-bold text-lg text-amber-400",onClick:()=>M(!S)},n.a.createElement("span",{className:"flex items-center"},n.a.createElement(l.a,{size:20,className:"mr-2"}),"Route Results"),n.a.createElement("span",{className:"bg-gray-800 rounded-full p-1"},S?n.a.createElement(v.a,{size:20}):n.a.createElement(C.a,{size:20})))),!S&&n.a.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4"},n.a.createElement("div",{className:"bg-gray-900 rounded-lg border-2 border-amber-700 p-5"},n.a.createElement("h3",{className:"text-xl font-bold text-amber-400 mb-3"},"Route Details"),n.a.createElement("div",{className:"space-y-3 mb-5"},n.a.createElement("div",{className:"text-lg"},n.a.createElement("span",{className:"text-amber-300 font-medium"},"Path: "),n.a.createElement("span",{className:"text-white"},y.path.join(" \u2192 "))),n.a.createElement("div",{className:"text-lg"},n.a.createElement("span",{className:"text-amber-300 font-medium"},"Total Distance: "),n.a.createElement("span",{className:"text-white"},y.segments.reduce((e,t)=>e+t.distance,0)," miles")),n.a.createElement("div",{className:"text-lg"},n.a.createElement("span",{className:"text-amber-300 font-medium"},"Total Travel Time: "),n.a.createElement("span",{className:"text-white"},(e=>{const t=Math.floor(e),a=Math.round(24*(e-t));return t>0&&a>0?`${t} day${1!==t?"s":""}, ${a} hour${1!==a?"s":""}`:t>0?`${t} day${1!==t?"s":""}`:`${a} hour${1!==a?"s":""}`})(y.totalTime))),n.a.createElement("div",{className:"text-lg"},n.a.createElement("span",{className:"text-amber-300 font-medium"},"Estimated Cost: "),n.a.createElement("span",{className:"text-white"},(e=>{const t=Math.floor(e),a=Math.round(20*(e-t));return t>0&&a>0?`${t} gold, ${a} silver`:t>0?t+" gold":a+" silver"})(y.totalCost)))),y.segments&&y.segments.length>0&&n.a.createElement("div",null,n.a.createElement("h4",{className:"text-lg font-semibold text-amber-400 mb-3"},"Segment Details"),n.a.createElement("div",{className:"space-y-3 max-h-64 overflow-y-auto pr-2 pb-1"},y.segments.map((e,t)=>n.a.createElement("div",{key:t,className:"bg-gray-800 p-3 rounded-md border border-gray-700"},n.a.createElement("div",{className:"text-amber-300 font-medium"},e.from," \u2192 ",e.to),n.a.createElement("div",{className:"text-white"},n.a.createElement("span",{className:"text-gray-400"},"Transport:")," ",e.mode),n.a.createElement("div",{className:"text-white"},n.a.createElement("span",{className:"text-gray-400"},"Distance:")," ",e.distance," miles"))))),r&&n.a.createElement("button",{className:"w-full mt-5 bg-amber-600 hover:bg-amber-700 font-bold py-3 rounded-lg flex items-center justify-center text-white text-base shadow-md transition-colors duration-200",onClick:()=>{if(!y||!y.valid||!t||!t.travel)return;const e=y.segments.map(e=>{const a=[...t.travel.standard||[],...t.travel.premium||[]].find(t=>t&&t.id===e.mode);if(a){const s=z(e.mode,t),n=Math.ceil(e.distance/s);return{...a,id:`${e.mode}-${e.from}-${e.to}`,segmentInfo:`${e.from} \u2192 ${e.to} (${e.distance} miles)`,days:n,preserveDays:!0,routeSegment:!0}}return null}).filter(e=>null!==e);r&&e.length>0&&r(e,!0)}},n.a.createElement(k.a,{size:18,className:"mr-2"}),"Add Travel Options to Cart")),n.a.createElement("div",null,n.a.createElement(P,{route:y,cityGraph:f})))),y&&!y.valid&&n.a.createElement("div",{className:"mt-6 p-5 bg-gray-900 rounded-lg border-2 border-red-700 text-red-400 text-lg font-medium"},"No valid route found between these cities with the selected transport mode."))},U=a(32),q=a(9),T=a(6),O=a.n(T);var I=e=>{let{isOpen:t,onClose:a,cart:r,playerCount:i,totalCost:l,formatCost:o}=e;Object(s.useEffect)(()=>(document.body.style.overflow=t?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[t]);const c=Object(s.useRef)();if(!t)return null;const m=new Date,d=`${["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()]} ${m.getDate()}, ${m.getFullYear()}`,u=`KH-${Math.floor(1e3+9e3*Math.random())}-${m.getFullYear()}`,p=r.reduce((e,t)=>e+(t.npcCount?t.npcCount*t.quantity:0),0),g=r.reduce((e,t)=>{let a="Other";return t.id.includes("airship")||t.id.includes("rail")||t.id.includes("ship")||t.id.includes("caravan")?a="Transportation":t.id.includes("guard")||t.id.includes("militia")||t.id.includes("company")||t.id.includes("wyvern")||t.id.includes("mage-warden")?a="Security":t.id.includes("provisions")||t.id.includes("rations")?a="Provisions":t.id.includes("inn")||t.id.includes("estate")||t.id.includes("embassy")||t.id.includes("encampment")?a="Accommodations":(t.id.includes("arcane")||t.id.includes("serum")||t.id.includes("scrying")||t.id.includes("weather"))&&(a="Magical Services"),e[a]||(e[a]=[]),e[a].push(t),e},{});return n.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 overflow-y-auto"},n.a.createElement("div",{ref:c,className:"bg-parchment text-gray-900 rounded-lg p-8 w-full max-w-4xl max-h-[90vh] h-full overflow-y-auto",style:{backgroundImage:"url('https://i.imgur.com/z1c8f4g.jpeg')",backgroundSize:"cover",backgroundPosition:"center",color:"#3A2921"}},n.a.createElement("div",{className:"absolute top-4 right-4 flex space-x-3"},n.a.createElement("button",{onClick:()=>{const e=c.current;O()(e,{scale:1.5,useCORS:!0,allowTaint:!0}).then(e=>{const t=e.toDataURL("image/png"),a=new q.a("p","mm","a4"),s=a.internal.pageSize.getWidth(),n=a.internal.pageSize.getHeight(),r=e.width,i=e.height,l=Math.min(s/r,n/i),o=(s-r*l)/2;a.addImage(t,"PNG",o,30,r*l,i*l),a.save(`Ederian_Requisition_${u}.pdf`)})},className:"p-2 rounded-full bg-amber-700 text-white hover:bg-amber-600 flex items-center gap-1",title:"Download as PDF"},n.a.createElement(U.a,{size:18}),n.a.createElement("span",{className:"text-sm"},"PDF")),n.a.createElement("button",{onClick:a,className:"p-1 rounded-full bg-gray-800 text-white hover:bg-gray-700",title:"Close"},n.a.createElement(f.a,{size:20}))),n.a.createElement("div",{className:"p-10 md:p-16"},n.a.createElement("div",{className:"text-center mb-6"},n.a.createElement("h1",{className:"text-3xl md:text-4xl font-bold mb-2",style:{fontFamily:"serif"}},"Royal Requisition"),n.a.createElement("div",{className:"flex justify-center space-x-3 items-center"},n.a.createElement("div",{className:"h-0.5 bg-amber-900 w-12 opacity-70"}),n.a.createElement("div",{className:"text-xl",style:{fontFamily:"serif"}},"The King's Hand"),n.a.createElement("div",{className:"h-0.5 bg-amber-900 w-12 opacity-70"}))),n.a.createElement("div",{className:"mb-8"},n.a.createElement("div",{className:"flex justify-between mb-2"},n.a.createElement("div",null,n.a.createElement("span",{className:"font-semibold"},"Requisition No: "),n.a.createElement("span",null,u)),n.a.createElement("div",null,n.a.createElement("span",{className:"font-semibold"},"Date: "),n.a.createElement("span",null,d))),n.a.createElement("div",{className:"flex justify-between mb-2"},n.a.createElement("div",null,n.a.createElement("span",{className:"font-semibold"},"Requested By: "),n.a.createElement("span",null,"Agent of the Crown")),n.a.createElement("div",null,n.a.createElement("span",{className:"font-semibold"},"Party Size: "),n.a.createElement("span",null,i," PCs, ",p," NPCs")))),n.a.createElement("div",{className:"mb-8 italic text-center border-t border-b border-amber-900 border-opacity-30 py-4"},n.a.createElement("p",null,"\"In service of His Majesty's Crown, by authority of the King's Hand, these provisions and services are hereby requisitioned for the furtherance of royal business within the realm of Ederia and beyond. Let all loyal subjects render aid as written below, with payment to follow according to the established rates of the royal treasury.\"")),n.a.createElement("div",{className:"mb-8"},Object.entries(g).map(e=>{let[t,a]=e;return n.a.createElement("div",{key:t,className:"mb-6"},n.a.createElement("h3",{className:"text-xl font-semibold mb-3 border-b border-amber-900 border-opacity-30"},t),n.a.createElement("div",{className:"space-y-3"},a.map((e,t)=>n.a.createElement("div",{key:t,className:"flex flex-wrap justify-between"},n.a.createElement("div",{className:"mr-4 flex-grow"},n.a.createElement("div",{className:"font-medium"},e.name),n.a.createElement("div",{className:"text-sm opacity-75"},e.segmentInfo&&n.a.createElement("div",null,e.segmentInfo),e.days>1&&n.a.createElement("div",null,"Duration: ",e.days," days"),e.quantity>1&&n.a.createElement("div",null,"Quantity: ",e.quantity),e.perPerson&&n.a.createElement("div",null,"For: ",e.people||i," persons"),e.npcCount&&n.a.createElement("div",null,"Includes: ",e.npcCount," personnel"))),n.a.createElement("div",{className:"text-right font-semibold"},o(e.cost*(e.quantity||1)))))))})),n.a.createElement("div",{className:"border-t border-double border-amber-900 pt-4 text-right"},n.a.createElement("div",{className:"text-xl font-bold"},"Total Expenditure: ",o(l))),n.a.createElement("div",{className:"mt-8 flex justify-between items-center text-sm opacity-75"},n.a.createElement("div",null,"Per Royal Edict #417"),n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"mb-1"},"* This requisition must be filed with the Royal Treasury within 30 days *"),n.a.createElement("div",null,"~ Expenses deemed excessive may be subject to review by the Crown's Council ~")),n.a.createElement("div",null,"Crown's Seal")),n.a.createElement("div",{className:"mt-10 flex justify-between"},n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"border-t border-amber-900 border-opacity-50 mt-8 pt-1 w-40"},n.a.createElement("div",{className:"font-medium"},"Edwinn Falkrest"),n.a.createElement("div",{className:"text-sm opacity-70"},"Of the King's Hand"))),n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"border-t border-amber-900 border-opacity-50 mt-8 pt-1 w-40"},n.a.createElement("div",{className:"font-medium"},"Alarice Eldran"),n.a.createElement("div",{className:"text-sm opacity-70"},"King's Hand Representative")))))))};var D=function(){const[e,t]=Object(s.useState)("travel"),[a,r]=Object(s.useState)("standard"),[i,x]=Object(s.useState)([]),[E,N]=Object(s.useState)(!1),[w,C]=Object(s.useState)(5),[k,S]=Object(s.useState)(!1),[P,F]=Object(s.useState)(7),[z,j]=Object(s.useState)(!1),R={travel:{standard:[{id:"caravan",name:"Caravan",speed:"24 miles/day",cost:1,costUnit:"gold/person/day",notes:"Includes basic provisions and security",image:"\ud83d\udc2a",perPerson:!0},{id:"ryanite-rail-1st",name:"Ryanite Rail (1st class)",speed:"36 miles/day",cost:2,costUnit:"gold/person/day",notes:"Operates only between major cities and settlements",image:"\ud83d\ude86",perPerson:!0},{id:"ryanite-rail-standard",name:"Ryanite Rail (standard)",speed:"36 miles/day",cost:5,costUnit:"silver/person/day",notes:"Operates only between major cities and settlements",image:"\ud83d\ude86",perPerson:!0},{id:"ship-private",name:"Ship (private cabin)",speed:"48 miles/day",cost:2,costUnit:"gold/person/day",notes:"Available only along coastal routes and major rivers",image:"\ud83d\udea2",perPerson:!0},{id:"ship-shared",name:"Ship (shared quarters)",speed:"48 miles/day",cost:5,costUnit:"silver/person/day",notes:"Available only along coastal routes and major rivers",image:"\ud83d\udea2",perPerson:!0},{id:"airship-ederia",name:"Airship (within Ederia)",speed:"96 miles/day",cost:3e3,costUnit:"gold/day",notes:"Requires minimum 3-day advance booking through House Astralor representatives",image:"\ud83d\udef8"},{id:"airship-bordering",name:"Airship (bordering nations)",speed:"96 miles/day",cost:6e3,costUnit:"gold/day",notes:"Requires minimum 3-day advance booking through House Astralor representatives",image:"\ud83d\udef8"},{id:"airship-distant",name:"Airship (distant territories)",speed:"96 miles/day",cost:9e3,costUnit:"gold/day",notes:"Requires minimum 3-day advance booking through House Astralor representatives",image:"\ud83d\udef8"}],premium:[{id:"expedited-rail",name:"Expedited Ryanite Rail",speed:"40 miles/day",cost:5,costUnit:"gold/person/day",notes:"Priority boarding, private compartment, meals included, 10% speed increase",image:"\ud83d\ude85",perPerson:!0},{id:"swift-rider",name:"Swift Rider Service",speed:"60 miles/day",cost:10,costUnit:"gold/day",notes:"Relay of horses stationed every 20 miles, limited to 2 riders per route, available only on main roads",image:"\ud83d\udc0e"},{id:"falcon-messenger",name:"House Falkrest Falcon Messenger",speed:"Varies",cost:20,costUnit:"gold/message",notes:"Delivery of urgent sealed communications, reaches most destinations in Ederia within 1-2 days, limited to messages weighing less than 3 ounces",image:"\ud83e\udd85"}]},security:{watch:[{id:"small-guard",name:"Small Guard Detachment",cost:10,costUnit:"gold/day",notes:"1 Sergeant, 4 Watchmen",image:"\ud83d\udc6e",npcCount:5},{id:"medium-guard",name:"Medium Guard Detachment",cost:18,costUnit:"gold/day",notes:"1 Lieutenant, 1 Sergeant, 8 Watchmen",image:"\ud83d\udc6e",npcCount:10},{id:"large-guard",name:"Large Guard Detachment",cost:35,costUnit:"gold/day",notes:"1 Captain, 2 Sergeants, 17 Watchmen",image:"\ud83d\udc6e",npcCount:20}],mercenary:[{id:"local-militia",name:"Local Militia",cost:15,costUnit:"gold/day",notes:"20 fighters (varied training)",image:"\u2694\ufe0f",npcCount:20},{id:"registered-company",name:"Registered Company",cost:40,costUnit:"gold/day",notes:"15 professional soldiers",image:"\u2694\ufe0f",npcCount:15},{id:"elite-company",name:"Elite Company",cost:100,costUnit:"gold/day",notes:"10 veteran specialists",image:"\u2694\ufe0f",npcCount:10}],potential:[{id:"silver-shields-info",name:"The Silver Shields",cost:100,costUnit:"gold/day",notes:"Elite Company (10) - Specializes in personal protection and escort duties",image:"\ud83d\udee1\ufe0f",isInfo:!0},{id:"thornefield-info",name:"Thornefield Sentinels",cost:40,costUnit:"gold/day",notes:"Registered Company (15) - Expert in rural and wilderness operations",image:"\ud83c\udf32",isInfo:!0},{id:"shadow-riders-info",name:"Shadow Riders",cost:40,costUnit:"gold/day",notes:"Registered Company (15) - Specialists in urban security and intelligence gathering",image:"\ud83d\udd75\ufe0f",isInfo:!0},{id:"veltaris-info",name:"Veltaris Mariners",cost:100,costUnit:"gold/day",notes:"Elite Company (10) - Naval and coastal security operations",image:"\u2693",isInfo:!0}],specialized:[{id:"wyvern-scout",name:"House Drakemoor Wyvern Scout",cost:75,costUnit:"gold/day",notes:"Single Crownclaw Knight with wyvern mount, aerial reconnaissance and messaging, limited combat capability, 24-hour advance notice required",image:"\ud83d\udc09",npcCount:1},{id:"mage-warden",name:"House Astralor Mage-Warden",cost:50,costUnit:"gold/day",notes:"Specialized arcane security, detects magical threats and provides countermeasures, can establish temporary wards for safe lodging",image:"\ud83e\uddd9",npcCount:1}]},provisions:{daily:[{id:"small-provisions",name:"Small Group Provisions",cost:5,costUnit:"gold/day",notes:"For 5-10 people. Food, water, basic equipment maintenance",image:"\ud83c\udf56"},{id:"medium-provisions",name:"Medium Group Provisions",cost:12,costUnit:"gold/day",notes:"For 11-25 people. Includes pack animals and spare equipment",image:"\ud83c\udf56"},{id:"large-provisions",name:"Large Group Provisions",cost:30,costUnit:"gold/day",notes:"For 26-60 people. Includes field kitchen and medical supplies",image:"\ud83c\udf56"},{id:"huge-provisions",name:"Huge Group Provisions",cost:60,costUnit:"gold/day",notes:"For 61-100 people. Includes dedicated logistics staff",image:"\ud83c\udf56"}],specialized:[{id:"luxury-rations",name:"Luxury Rations",cost:2,costUnit:"gold/person/day",notes:"Fine wines and spirits, fresh meats, variety of fruits and vegetables",image:"\ud83c\udf77"},{id:"expedition-package",name:"Extended Expedition Package",cost:200,baseCost:!0,additionalCost:1,additionalCostUnit:"gold/person/day",notes:"Weatherproof tents, portable furniture, one month of preserved rations, medicine chest with healing potions",image:"\u26fa"}]},accommodations:{lodging:[{id:"standard-inn",name:"Local Inn (standard)",cost:5,costUnit:"silver/person/night",notes:"Private or shared room, basic meals",image:"\ud83c\udfe8",perPerson:!0},{id:"premium-inn",name:"Local Inn (premium)",cost:2,costUnit:"gold/person/night",notes:"Private room, quality meals, bath services",image:"\ud83c\udfe8",perPerson:!0},{id:"noble-estate",name:"Noble Estate Hosting",cost:30,costUnit:"gold/person",notes:"Luxury accommodations as guest of local nobility (Gift of 10-50 gold per person recommended)",image:"\ud83c\udff0",perPerson:!0,customizablePrice:!0,minPrice:10,maxPrice:50},{id:"embassy",name:"Ederian Embassy",cost:0,costUnit:"No direct cost",notes:"Available only in major cities or foreign capitals, full diplomatic services (requires royal authorization)",image:"\ud83c\udfdb\ufe0f"},{id:"encampment",name:"Field Encampment",cost:5,costUnit:"gold/day (setup fee)",additionalCost:"plus provisions",notes:"Established by royal quartermasters, includes security perimeter",image:"\u26fa"}],administrative:[{id:"chancery",name:"Mobile Chancery",cost:25,costUnit:"gold/day",notes:"Includes 2 royal scribes, official seals and documentation, secure message handling",image:"\ud83d\udcdc"},{id:"herald",name:"Court Herald",cost:10,costUnit:"gold/day",notes:"Makes official proclamations, arranges local meetings and audiences, manages protocol and ceremony",image:"\ud83d\udce2"},{id:"investigator",name:"Royal Investigator",cost:15,costUnit:"gold/day",notes:"Specializes in evidence gathering, legal authority to question subjects, trained in detection of falsehoods",image:"\ud83d\udd0d"}]},magical:{services:[{id:"arcane-lock",name:"Arcane Lock",cost:25,costUnit:"gold/application",notes:"Secures documents or rooms against tampering",image:"\ud83d\udd12"},{id:"truth-serum",name:"Truth Serum",cost:75,costUnit:"gold/dose",notes:"Compels truthful answers for 1 hour (resisted by strong will)",image:"\u2697\ufe0f"},{id:"scrying",name:"Location Scrying",cost:150,costUnit:"gold/attempt",notes:"Attempts to locate specific person or object within 100 miles",image:"\ud83d\udd2e"},{id:"weather",name:"Weather Prediction",cost:40,costUnit:"gold",notes:"Accurate 3-day forecast for region",image:"\u2601\ufe0f"}]},special:{intelligence:[{id:"informants",name:"Local Informants",cost:30,costUnit:"gold (average)",notes:"Market rumors and common knowledge, basic movements of notable figures, public sentiment reports",image:"\ud83d\udc65"},{id:"spy-network",name:"Royal Spy Network",cost:0,costUnit:"Requires approval",notes:"Detailed reports on political movements, identification of potential threats, access to existing agents in the field",image:"\ud83d\udd75\ufe0f"}],resources:[{id:"royal-seal",name:"Royal Seal Authority",cost:0,costUnit:"N/A",notes:"Can requisition emergency resources, may command temporary service from any royal subject, grants access to secure locations",image:"\ud83d\udc51"},{id:"gift-chest",name:"Royal Gift Chest",cost:500,costUnit:"gold (average)",notes:"Curated selection of diplomatic gifts, includes Ederian luxury goods, customized to recipient's known preferences",image:"\ud83c\udf81"},{id:"banquet-fund",name:"Formal Banquet Fund",cost:300,costUnit:"gold (average)",notes:"Finances to host local nobility or officials, includes entertainment and hospitality",image:"\ud83c\udf7d\ufe0f"},{id:"cartographer",name:"Royal Cartographer",cost:20,costUnit:"gold/day",notes:"Updates and creates detailed maps, documents new discoveries or changes",image:"\ud83d\uddfa\ufe0f"},{id:"resupply",name:"House Thornefield Rapid Resupply",cost:0,costUnit:"25% premium on provisions",notes:"Emergency food and supply delivery to remote locations",image:"\ud83d\udce6"},{id:"blessing",name:"House Emberlyn Blessing Ritual",cost:30,costUnit:"gold",notes:"Ceremonial blessing for missions or endeavors, increases morale of local supporters",image:"\u2728"}]}},A=[{id:"travel",label:"Travel Options",icon:n.a.createElement(l.a,{size:20}),categories:["standard","premium"]},{id:"security",label:"Security Services",icon:n.a.createElement(o.a,{size:20}),categories:["watch","mercenary","specialized","potential"]},{id:"provisions",label:"Provisions",icon:n.a.createElement(c.a,{size:20}),categories:["daily","specialized"]},{id:"accommodations",label:"Accommodations",icon:n.a.createElement(m.a,{size:20}),categories:["lodging","administrative"]},{id:"magical",label:"Magical Services",icon:n.a.createElement(d.a,{size:20}),categories:["services"]},{id:"special",label:"Special Resources",icon:n.a.createElement(u.a,{size:20}),categories:["intelligence","resources"]}],U={standard:"Standard Travel",premium:"Premium Services",watch:"Ederian Watch",mercenary:"Mercenary Companies",specialized:"Specialized Security",potential:"Potential Companies",daily:"Daily Provisions",specialized:"Specialized Provisions",lodging:"Lodging Options",administrative:"Administrative Services",services:"Arcane Services",intelligence:"Intelligence Network",resources:"Resources & Services"},q=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isInfo)return;if(t&&Array.isArray(e))return void x(t=>{const a=[...t];return e.forEach(e=>{const t=a.findIndex(t=>t.id===e.id),s=e.preserveDays?e.days:k?P:1;let n={...e};n.customizablePrice&&(n.customPriceValue=n.cost),t>=0?a[t].quantity+=1:a.push({...n,quantity:1,days:s,people:n.perPerson?1:0})}),a});const a=i.findIndex(t=>t.id===e.id),s=e.preserveDays?e.days:k?P:1;let n={...e};if(e.customizablePrice&&(n.customPriceValue=e.cost),a>=0){const e=[...i];e[a].quantity+=1,x(e)}else x([...i,{...n,quantity:1,days:s,people:e.perPerson?1:0}])},T=(e,t)=>{if(t<1)return;const a=i.map(a=>a.id===e?{...a,quantity:t}:a);x(a)},O=(e,t)=>{if(!(t<1))if(k){F(t);const e=i.map(e=>({...e,days:t}));x(e)}else{const a=i.map(a=>a.id===e?{...a,days:t}:a);x(a)}},D=(e,t)=>{if(t<1)return;const a=i.map(a=>a.id===e?{...a,people:t}:a);x(a)},H=()=>{let e=w;return i.forEach(t=>{t.npcCount&&(e+=t.npcCount*t.quantity)}),e},$=()=>{const e=H();return i.reduce((t,a)=>{let s=0,n=a.customizablePrice&&void 0!==a.customPriceValue?a.customPriceValue:a.cost||0;const r=a.costUnit||"";if(r.includes("silver")&&(n/=20),r.includes("/day")&&!r.includes("/person"))s=n*a.days*a.quantity;else if(r.includes("/week")&&!r.includes("/person"))s=n*Math.ceil(a.days/7)*a.quantity;else if(r.includes("/person/day"))s=n*e*a.days*a.quantity;else if(r.includes("/person/week"))s=n*e*Math.ceil(a.days/7)*a.quantity;else if(!r.includes("/person")||r.includes("/day")||r.includes("/night"))if(r.includes("/night")&&!r.includes("/person"))s=n*a.days*a.quantity;else if(r.includes("/person/night"))s=n*e*a.days*a.quantity;else if(r.includes("/message")||r.includes("/dose")||r.includes("/application"))s=n*a.quantity;else if(a.baseCost){s=(n+(a.additionalCost||0)*e*a.days)*a.quantity}else s=n*a.quantity;else s=n*e*a.quantity;return t+s},0)},B=e=>{const t=Math.floor(e),a=Math.round(20*(e-t));return t>0&&a>0?`${t} gold, ${a} silver`:t>0?t+" gold":a+" silver"};return n.a.createElement("div",{className:"flex flex-col h-screen bg-gray-900 text-white font-sans"},n.a.createElement("header",{className:"bg-gray-800 border-b border-gray-700 p-4 flex justify-between items-center"},n.a.createElement("div",{className:"flex items-center space-x-2"},n.a.createElement(p.a,{size:24,className:"text-amber-500"}),n.a.createElement("h1",{className:"text-xl font-bold text-amber-500"},"Ederian Travel Tracker")),n.a.createElement("div",{className:"flex space-x-4 items-center"},n.a.createElement("div",{className:"bg-gray-900 p-2 rounded flex items-center mr-2"},n.a.createElement("span",{className:"text-sm text-gray-400 mr-2"},"PCs:"),n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>C(Math.max(1,w-1))},n.a.createElement(g.a,{size:14})),n.a.createElement("span",{className:"mx-2 w-6 text-center"},w),n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>C(w+1)},n.a.createElement(y.a,{size:14}))),n.a.createElement("div",{className:"bg-gray-900 p-2 rounded flex items-center mr-2"},n.a.createElement("span",{className:"text-sm text-gray-400 mr-2"},"NPCs:"),n.a.createElement("span",{className:"w-6 text-center"},H()-w)),n.a.createElement("div",{className:"bg-gray-900 p-2 rounded flex items-center mr-2"},n.a.createElement("div",{className:"flex items-center space-x-2"},n.a.createElement("div",null,n.a.createElement("label",{className:"text-sm text-gray-400 mr-2"},"Standard Travel Days:"),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("button",{className:"px-3 py-1 text-xs rounded-l "+(k?"bg-amber-600 text-white":"bg-gray-700 text-gray-300"),onClick:()=>S(!0)},"ON"),n.a.createElement("button",{className:"px-3 py-1 text-xs rounded-r "+(k?"bg-gray-700 text-gray-300":"bg-amber-600 text-white"),onClick:()=>S(!1)},"OFF"))),k&&n.a.createElement("div",{className:"flex items-center"},n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>F(Math.max(1,P-1))},n.a.createElement(g.a,{size:14})),n.a.createElement("span",{className:"mx-2 w-6 text-center"},P),n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>{const e=P+1;F(e);const t=i.map(t=>({...t,days:e}));x(t)}},n.a.createElement(y.a,{size:14}))))),n.a.createElement("button",{className:"bg-amber-600 hover:bg-amber-700 p-2 rounded flex items-center space-x-1",onClick:()=>N(!E)},n.a.createElement(b.a,{size:20}),n.a.createElement("span",null,"Cart (",i.length,")")))),n.a.createElement("div",{className:"flex flex-1 overflow-hidden"},n.a.createElement("main",{className:"flex-1 overflow-y-auto p-4"},n.a.createElement("div",{className:"mb-4 flex overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-700"},A.map(a=>n.a.createElement("button",{key:a.id,className:"flex items-center px-4 py-2 mr-2 rounded-lg transition-colors "+(e===a.id?"bg-gray-700 text-amber-500 border border-amber-700":"bg-gray-800 hover:bg-gray-700"),onClick:()=>{return e=a.id,t(e),void r(A.find(t=>t.id===e).categories[0]);var e}},n.a.createElement("span",{className:"mr-2"},a.icon),a.label))),n.a.createElement("div",{className:"mb-6 flex flex-wrap gap-2"},A.find(t=>t.id===e).categories.map(e=>n.a.createElement("button",{key:e,className:"px-3 py-1 text-sm rounded-full transition-colors "+(a===e?"bg-amber-600 text-white":"bg-gray-800 hover:bg-gray-700"),onClick:()=>{r(e)}},U[e]))),"travel"===e&&n.a.createElement("div",{className:"mb-6"},n.a.createElement(M,{travelData:R,playerCount:w,addToCart:q})),n.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},R[e][a].map(e=>n.a.createElement("div",{key:e.id,className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-amber-600 transition-colors "+(e.isInfo?"opacity-80":"")},n.a.createElement("div",{className:"p-4"},n.a.createElement("div",{className:"flex items-start justify-between"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("span",{className:"text-2xl mr-2"},e.image),n.a.createElement("h3",{className:"text-lg font-semibold"},e.name)),!e.isInfo&&n.a.createElement("button",{className:"bg-amber-600 hover:bg-amber-700 p-1.5 rounded-full",onClick:()=>q(e)},n.a.createElement(y.a,{size:16}))),n.a.createElement("div",{className:"mt-2"},n.a.createElement("div",{className:"text-amber-500 font-medium"},e.cost," ",e.costUnit||"",e.baseCost&&e.additionalCost&&` + ${e.additionalCost} ${e.additionalCostUnit||""}`),e.speed&&n.a.createElement("div",{className:"text-gray-400 text-sm"},e.speed),e.npcCount&&n.a.createElement("div",{className:"text-gray-300 text-sm mt-1"},"NPCs: ",e.npcCount),n.a.createElement("p",{className:"text-gray-400 text-sm mt-1"},e.notes||""))))))),n.a.createElement("aside",{className:`w-96 bg-gray-800 border-l border-gray-700 transform transition-transform ${E?"translate-x-0":"translate-x-full"} fixed right-0 top-0 h-screen overflow-y-auto z-10 p-4`},n.a.createElement("div",{className:"flex justify-between items-center mb-4"},n.a.createElement("h2",{className:"text-xl font-bold text-amber-500 flex items-center"},n.a.createElement(b.a,{size:20,className:"mr-2"}),"Your Selection"),n.a.createElement("button",{className:"text-gray-400 hover:text-white",onClick:()=>N(!1)},n.a.createElement(f.a,{size:20}))),0===i.length?n.a.createElement("div",{className:"text-gray-400 p-4 text-center"},n.a.createElement("div",{className:"text-4xl mb-2"},"\ud83d\uded2"),n.a.createElement("p",null,"Your cart is empty"),n.a.createElement("p",{className:"text-sm mt-2"},"Add items from the catalog to begin tracking costs")):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"space-y-4"},i.map(e=>n.a.createElement("div",{key:e.id,className:"bg-gray-900 rounded-lg p-3 relative"},n.a.createElement("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-500",onClick:()=>{return t=e.id,void x(i.filter(e=>e.id!==t));var t}},n.a.createElement(f.a,{size:16})),n.a.createElement("div",{className:"flex items-start mb-2"},n.a.createElement("span",{className:"text-2xl mr-2"},e.image),n.a.createElement("div",null,n.a.createElement("h4",{className:"font-medium"},e.name),n.a.createElement("div",{className:"text-sm text-amber-500"},e.cost," ",e.costUnit||"",e.baseCost&&e.additionalCost&&` + ${e.additionalCost} ${e.additionalCostUnit||""}`))),n.a.createElement("div",{className:"space-y-2 mt-3"},e.npcCount?n.a.createElement("div",{className:"mb-2 bg-gray-700 p-2 rounded text-sm"},n.a.createElement("span",{className:"text-amber-400"},"+",e.npcCount)," NPCs added to party"):null,n.a.createElement("div",{className:"flex items-center justify-between"},n.a.createElement("label",{className:"text-sm text-gray-400"},"Quantity:"),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>T(e.id,e.quantity-1)},n.a.createElement(g.a,{size:14})),n.a.createElement("span",{className:"mx-2 w-6 text-center"},e.quantity),n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>T(e.id,e.quantity+1)},n.a.createElement(y.a,{size:14})))),(e.costUnit.includes("/day")||e.costUnit.includes("/night")||e.costUnit.includes("/week")||e.baseCost)&&n.a.createElement("div",{className:"flex items-center justify-between"},n.a.createElement("label",{className:"text-sm text-gray-400"},"Days:"),n.a.createElement("div",{className:"flex items-center"},k?n.a.createElement("div",{className:"bg-amber-700 text-xs px-2 py-1 rounded text-white"},"Standardized: ",P):n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>O(e.id,e.days-1)},n.a.createElement(g.a,{size:14})),n.a.createElement("span",{className:"mx-2 w-6 text-center"},e.days),n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>O(e.id,e.days+1)},n.a.createElement(y.a,{size:14}))))),e.customizablePrice&&n.a.createElement("div",{className:"flex items-center justify-between mt-2"},n.a.createElement("label",{className:"text-sm text-gray-400"},"Custom Gift (per person):"),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("input",{type:"number",min:e.minPrice||0,max:e.maxPrice||100,value:e.customPriceValue,onChange:t=>((e,t)=>{const a=i.map(a=>{if(a.id===e&&a.customizablePrice){const e=Math.min(Math.max(t,a.minPrice||0),a.maxPrice||1e3);return{...a,customPriceValue:e}}return a});x(a)})(e.id,parseInt(t.target.value)||0),className:"w-16 bg-gray-700 border border-gray-600 rounded p-1 text-center text-white"}),n.a.createElement("span",{className:"ml-1 text-amber-500"},"gold"))),e.perPerson&&n.a.createElement("div",{className:"flex items-center justify-between"},n.a.createElement("label",{className:"text-sm text-gray-400"},"People:"),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>D(e.id,e.people-1)},n.a.createElement(g.a,{size:14})),n.a.createElement("span",{className:"mx-2 w-6 text-center"},e.people),n.a.createElement("button",{className:"p-1 bg-gray-800 rounded hover:bg-gray-700",onClick:()=>D(e.id,e.people+1)},n.a.createElement(y.a,{size:14}))))),n.a.createElement("div",{className:"mt-3 text-right font-medium"},"Subtotal: ",B((e=>{const t=H();let a=0,s=e.customizablePrice&&void 0!==e.customPriceValue?e.customPriceValue:e.cost||0;const n=e.costUnit||"";if(n.includes("silver")&&(s/=20),n.includes("/day")&&!n.includes("/person"))a=s*e.days*e.quantity;else if(n.includes("/week")&&!n.includes("/person"))a=s*Math.ceil(e.days/7)*e.quantity;else if(n.includes("/person/day"))a=s*t*e.days*e.quantity;else if(n.includes("/person/week"))a=s*t*Math.ceil(e.days/7)*e.quantity;else if(!n.includes("/person")||n.includes("/day")||n.includes("/night"))if(n.includes("/night")&&!n.includes("/person"))a=s*e.days*e.quantity;else if(n.includes("/person/night"))a=s*t*e.days*e.quantity;else if(n.includes("/message")||n.includes("/dose")||n.includes("/application"))a=s*e.quantity;else if(e.baseCost){a=(s+(e.additionalCost||0)*t*e.days)*e.quantity}else a=s*e.quantity;else a=s*t*e.quantity;return a})(e)))))),n.a.createElement("div",{className:"mt-6 border-t border-gray-700 pt-4"},n.a.createElement("div",{className:"flex justify-between items-center mb-3"},n.a.createElement("span",{className:"text-gray-400 text-sm"},"Total Party Size:"),n.a.createElement("span",{className:"text-white"},H()," (",w," PCs + ",H()-w," NPCs)")),n.a.createElement("div",{className:"flex justify-between text-lg font-bold mb-1"},n.a.createElement("span",null,"Total:"),n.a.createElement("span",{className:"text-amber-500"},B($()))),n.a.createElement("p",{className:"text-xs text-gray-400"},"All requisitions by the King's Hand must be properly documented and submitted to the Royal Treasurer's office within 30 days.")),n.a.createElement("button",{className:"w-full bg-amber-600 hover:bg-amber-700 font-bold py-2 rounded-lg mt-4 flex items-center justify-center",onClick:()=>j(!0)},n.a.createElement(p.a,{size:16,className:"mr-2"}),"Generate Requisition Order")))),n.a.createElement("footer",{className:"bg-gray-800 border-t border-gray-700 p-3 sticky bottom-0"},n.a.createElement("div",{className:"flex justify-between items-center"},n.a.createElement("div",{className:"flex items-center space-x-4"},n.a.createElement("div",{className:"flex items-center space-x-2"},n.a.createElement(h.a,{size:16,className:"text-gray-400"}),n.a.createElement("span",{className:"text-sm text-gray-400"},i.length," items selected")),n.a.createElement("div",{className:"text-sm border-l border-gray-600 pl-4"},n.a.createElement("span",{className:"text-gray-400"},"Total Party Size: "),n.a.createElement("span",{className:"font-medium text-white"},H()),n.a.createElement("span",{className:"text-gray-500 text-xs ml-1"},"(",w," PCs + ",H()-w," NPCs)"))),n.a.createElement("div",{className:"flex items-center"},n.a.createElement("span",{className:"mr-2"},"Total Cost:"),n.a.createElement("span",{className:"text-lg font-bold text-amber-500"},B($()))),n.a.createElement("button",{className:"bg-gray-700 hover:bg-gray-600 p-2 rounded flex items-center space-x-1",onClick:()=>N(!0)},n.a.createElement(b.a,{size:16}),n.a.createElement("span",null,"View Cart"),n.a.createElement(v.a,{size:16})))),n.a.createElement(I,{isOpen:z,onClose:()=>j(!1),cart:i,playerCount:w,totalCost:$(),formatCost:B}))};var H=e=>{e&&e instanceof Function&&a.e(5).then(a.bind(null,53)).then(t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:r,getTTFB:i}=t;a(e),s(e),n(e),r(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null))),H()}},[[10,1,2]]]);
//# sourceMappingURL=main.45f6e74d.chunk.js.map