{"version":3,"sources":["RoutePlanner.js","App.js","reportWebVitals.js","index.js"],"names":["defaultCityGraph","distance","modes","getTransportSpeed","transportMode","travelData","travel","modeData","standard","item","id","premium","speed","speedMatch","match","parseInt","getDistance","fromCity","toCity","mode","cityGraph","connection","Array","isArray","includes","calculateSegmentCost","playerCount","daysRequired","cost","costUnit","baseCost","Math","ceil","getAvailableModes","Object","keys","RoutePlanner","_ref","addToCart","origin","setOrigin","useState","destination","setDestination","setTransportMode","prioritize","setPrioritize","route","setRoute","setCityGraph","useEffect","async","response","fetch","ok","console","warn","status","log","data","json","error","loadTravelData","cities","availableTransportModes","getAvailableTransportModes","allModes","Set","extractModes","city","neighbor","forEach","add","from","formatTime","days","wholeDays","floor","hours","round","formatCost","gold","silver","React","createElement","className","Navigation","size","value","onChange","e","target","map","key","filter","onClick","Clock","DollarSign","Compass","_travelData$travel","_travelData$travel2","find","name","calculateRoute","result","graph","start","end","optimize","distances","previous","unvisited","bestModes","Infinity","current","smallestDistance","delete","availableModes","edgeWeight","length","routeDistance","bestMode","fastestTime","time","cheapestCost","comfortRanking","mostComfortable","comfortTime","comfortLevel","undefined","totalWeight","path","segments","prev","unshift","modeInfo","to","weight","valid","findShortestPath","totalTime","segment","calculateTotalTravelTime","totalCost","calculateTotalCost","disabled","Map","join","reduce","total","index","_travelData$travel3","_travelData$travel4","segmentTime","segmentCost","image","addRouteToCart","transportItem","itemWithSegment","segmentInfo","PlaneTakeoff","App","activeTab","setActiveTab","activeCategory","setActiveCategory","cart","setCart","sidebarOpen","setSidebarOpen","setPlayerCount","standardDaysEnabled","setStandardDaysEnabled","standardDays","setStandardDays","notes","perPerson","security","watch","npcCount","mercenary","potential","isInfo","specialized","provisions","daily","additionalCost","additionalCostUnit","accommodations","lodging","customizablePrice","minPrice","maxPrice","administrative","magical","services","special","intelligence","resources","tabs","label","icon","categories","Shield","Coffee","Home","Sparkles","Crown","categoryLabels","existingItemIndex","findIndex","cartItem","daysValue","itemToAdd","customPriceValue","updatedCart","quantity","people","updateQuantity","itemId","newQuantity","updateDays","newDays","updatePeople","newPeople","calculateTotalPartySize","totalSize","calculateTotal","totalPartySize","itemCost","Scroll","max","Minus","Plus","ShoppingCart","tab","handleTabChange","tabId","category","X","Fragment","removeFromCart","type","min","updateCustomPrice","newPrice","boundedPrice","calculateItemCost","Info","ChevronRight","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.42a5f1b5.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Map, Navigation, Clock, DollarSign, Compass, PlaneTakeoff } from 'lucide-react';\r\n\r\n// We'll replace this with data loaded from the JSON file\r\nconst defaultCityGraph = {\r\n  \"Royal Capital\": {\r\n    \"Thornefield\": { \r\n      distance: 100, \r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st', 'airship-ederia'] \r\n    },\r\n    \"Port Haven\": { \r\n      distance: 150, \r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st', 'ship-shared', 'ship-private', 'airship-ederia'] \r\n    },\r\n    \"Drakemoor Hold\": { \r\n      distance: 120, \r\n      modes: ['caravan', 'airship-ederia'] \r\n    },\r\n    \"Astralor Academy\": {\r\n      distance: 80,\r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st', 'airship-ederia']\r\n    }\r\n  },\r\n  \"Thornefield\": {\r\n    \"Royal Capital\": { \r\n      distance: 100, \r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st', 'airship-ederia'] \r\n    },\r\n    \"Forest Outpost\": { \r\n      distance: 75, \r\n      modes: ['caravan'] \r\n    },\r\n    \"Crossroads Inn\": { \r\n      distance: 50, \r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st'] \r\n    }\r\n  },\r\n  \"Port Haven\": {\r\n    \"Royal Capital\": {\r\n      distance: 150,\r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st', 'ship-shared', 'ship-private', 'airship-ederia']\r\n    },\r\n    \"Veltaris Harbor\": {\r\n      distance: 120,\r\n      modes: ['caravan', 'ship-shared', 'ship-private']\r\n    },\r\n    \"Eastern Shores\": {\r\n      distance: 200,\r\n      modes: ['ship-shared', 'ship-private']\r\n    }\r\n  },\r\n  \"Drakemoor Hold\": {\r\n    \"Royal Capital\": {\r\n      distance: 120,\r\n      modes: ['caravan', 'airship-ederia']\r\n    },\r\n    \"Mountain Pass\": {\r\n      distance: 80,\r\n      modes: ['caravan']\r\n    }\r\n  },\r\n  \"Astralor Academy\": {\r\n    \"Royal Capital\": {\r\n      distance: 80,\r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st', 'airship-ederia']\r\n    },\r\n    \"Arcane Outpost\": {\r\n      distance: 100,\r\n      modes: ['caravan', 'airship-ederia']\r\n    }\r\n  },\r\n  \"Forest Outpost\": {\r\n    \"Thornefield\": {\r\n      distance: 75,\r\n      modes: ['caravan']\r\n    }\r\n  },\r\n  \"Crossroads Inn\": {\r\n    \"Thornefield\": {\r\n      distance: 50,\r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st']\r\n    },\r\n    \"Trade Junction\": {\r\n      distance: 60,\r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st']\r\n    }\r\n  },\r\n  \"Veltaris Harbor\": {\r\n    \"Port Haven\": {\r\n      distance: 120,\r\n      modes: ['caravan', 'ship-shared', 'ship-private']\r\n    },\r\n    \"Coastal Fortress\": {\r\n      distance: 70,\r\n      modes: ['caravan', 'ship-shared', 'ship-private']\r\n    }\r\n  },\r\n  \"Eastern Shores\": {\r\n    \"Port Haven\": {\r\n      distance: 200,\r\n      modes: ['ship-shared', 'ship-private']\r\n    }\r\n  },\r\n  \"Mountain Pass\": {\r\n    \"Drakemoor Hold\": {\r\n      distance: 80,\r\n      modes: ['caravan']\r\n    },\r\n    \"Border Crossing\": {\r\n      distance: 100,\r\n      modes: ['caravan']\r\n    }\r\n  },\r\n  \"Arcane Outpost\": {\r\n    \"Astralor Academy\": {\r\n      distance: 100,\r\n      modes: ['caravan', 'airship-ederia']\r\n    }\r\n  },\r\n  \"Trade Junction\": {\r\n    \"Crossroads Inn\": {\r\n      distance: 60,\r\n      modes: ['caravan', 'ryanite-rail-standard', 'ryanite-rail-1st']\r\n    }\r\n  },\r\n  \"Coastal Fortress\": {\r\n    \"Veltaris Harbor\": {\r\n      distance: 70,\r\n      modes: ['caravan', 'ship-shared', 'ship-private']\r\n    }\r\n  },\r\n  \"Border Crossing\": {\r\n    \"Mountain Pass\": {\r\n      distance: 100,\r\n      modes: ['caravan']\r\n    }\r\n  }\r\n};\r\n\r\n// Helper functions for route calculations\r\nfunction getTransportSpeed(transportMode, travelData) {\r\n  if (!travelData || !travelData.travel) return 24; // Default to caravan speed if travelData isn't available\r\n  \r\n  let modeData = null;\r\n  \r\n  // Search in standard travel options\r\n  if (travelData.travel.standard) {\r\n    for (const item of travelData.travel.standard) {\r\n      if (item.id === transportMode) {\r\n        modeData = item;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Search in premium travel options if not found\r\n  if (!modeData && travelData.travel.premium) {\r\n    for (const item of travelData.travel.premium) {\r\n      if (item.id === transportMode) {\r\n        modeData = item;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  if (!modeData || !modeData.speed) return 24; // Default to caravan speed\r\n  \r\n  // Extract numeric value from speed string\r\n  const speedMatch = modeData.speed.match(/(\\d+)/);\r\n  return speedMatch ? parseInt(speedMatch[1]) : 24;\r\n}\r\n\r\n// Helper function to get the distance for a specific mode between two cities\r\nfunction getDistance(fromCity, toCity, mode, cityGraph) {\r\n  if (!cityGraph[fromCity] || !cityGraph[fromCity][toCity]) {\r\n    return null; // No direct connection\r\n  }\r\n  \r\n  const connection = cityGraph[fromCity][toCity];\r\n  \r\n  // Check if the connection has mode-specific distances\r\n  if (connection.modes && typeof connection.modes === 'object' && !Array.isArray(connection.modes)) {\r\n    // New format with mode-specific distances\r\n    if (connection.modes[mode] && connection.modes[mode].distance) {\r\n      return connection.modes[mode].distance;\r\n    }\r\n    \r\n    // Mode not available for this route\r\n    return null;\r\n  } else if (connection.modes && Array.isArray(connection.modes)) {\r\n    // Old format with a single distance for all modes\r\n    if (connection.modes.includes(mode)) {\r\n      return connection.distance;\r\n    }\r\n    \r\n    // Mode not available for this route\r\n    return null;\r\n  }\r\n  \r\n  // Invalid connection format\r\n  return null;\r\n}\r\n\r\nfunction calculateSegmentCost(transportMode, distance, travelData, playerCount) {\r\n  if (!travelData || !travelData.travel) return 0; // Return 0 if travelData isn't available\r\n  \r\n  let modeData = null;\r\n  \r\n  // Search in standard travel options\r\n  if (travelData.travel.standard) {\r\n    for (const item of travelData.travel.standard) {\r\n      if (item.id === transportMode) {\r\n        modeData = item;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Search in premium travel options if not found\r\n  if (!modeData && travelData.travel.premium) {\r\n    for (const item of travelData.travel.premium) {\r\n      if (item.id === transportMode) {\r\n        modeData = item;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  \r\n  if (!modeData) return 0;\r\n  \r\n  const speed = getTransportSpeed(transportMode, travelData);\r\n  const daysRequired = distance / speed;\r\n  \r\n  let cost = 0;\r\n  const costUnit = modeData.costUnit || '';\r\n  \r\n  // Convert silver to gold for calculations\r\n  let baseCost = modeData.cost || 0;\r\n  if (costUnit.includes('silver')) {\r\n    baseCost = baseCost / 20; // 20 silver = 1 gold\r\n  }\r\n  \r\n  // Calculate based on cost structure\r\n  if (costUnit.includes('/day') && !costUnit.includes('/person')) {\r\n    cost = baseCost * daysRequired;\r\n  } else if (costUnit.includes('/week')) {\r\n    cost = baseCost * Math.ceil(daysRequired / 7);\r\n  } else if (costUnit.includes('/person/day')) {\r\n    cost = baseCost * playerCount * daysRequired;\r\n  } else if (costUnit.includes('/person/week')) {\r\n    cost = baseCost * playerCount * Math.ceil(daysRequired / 7);\r\n  } else {\r\n    // Flat rate\r\n    cost = baseCost;\r\n  }\r\n  \r\n  return cost;\r\n}\r\n\r\nfunction getMaxSpeed(modes, travelData) {\r\n  let maxSpeed = 0;\r\n  \r\n  for (const mode of modes) {\r\n    const speed = getTransportSpeed(mode, travelData);\r\n    if (speed > maxSpeed) {\r\n      maxSpeed = speed;\r\n    }\r\n  }\r\n  \r\n  return maxSpeed || 24; // Default to caravan speed if no modes available\r\n}\r\n\r\n// Helper function to get all available modes between two cities\r\nfunction getAvailableModes(fromCity, toCity, cityGraph) {\r\n  if (!cityGraph[fromCity] || !cityGraph[fromCity][toCity]) {\r\n    return [];\r\n  }\r\n  \r\n  const connection = cityGraph[fromCity][toCity];\r\n  \r\n  // Check connection format\r\n  if (connection.modes && typeof connection.modes === 'object' && !Array.isArray(connection.modes)) {\r\n    // New format with mode-specific distances\r\n    return Object.keys(connection.modes);\r\n  } else if (connection.modes && Array.isArray(connection.modes)) {\r\n    // Old format with a single distance for all modes\r\n    return connection.modes;\r\n  }\r\n  \r\n  return [];\r\n}\r\n\r\nfunction getMinCost(modes, distance, travelData, playerCount) {\r\n  let minCost = Infinity;\r\n  \r\n  for (const mode of modes) {\r\n    const cost = calculateSegmentCost(mode, distance, travelData, playerCount);\r\n    if (cost < minCost) {\r\n      minCost = cost;\r\n    }\r\n  }\r\n  \r\n  return minCost === Infinity ? 0 : minCost;\r\n}\r\n\r\n// Dijkstra's algorithm for finding shortest path\r\nfunction findShortestPath(graph, start, end, transportMode, optimize, travelData, playerCount) {\r\n  const distances = {};\r\n  const previous = {};\r\n  const unvisited = new Set();\r\n  const bestModes = {}; // Track best transport mode for each segment\r\n  \r\n  for (const city in graph) {\r\n    distances[city] = city === start ? 0 : Infinity;\r\n    previous[city] = null;\r\n    unvisited.add(city);\r\n    bestModes[city] = {};\r\n  }\r\n  \r\n  while (unvisited.size > 0) {\r\n    // Find the unvisited node with the smallest distance\r\n    let current = null;\r\n    let smallestDistance = Infinity;\r\n    \r\n    for (const city of unvisited) {\r\n      if (distances[city] < smallestDistance) {\r\n        smallestDistance = distances[city];\r\n        current = city;\r\n      }\r\n    }\r\n    \r\n    // If we've reached the end or there's no path, break\r\n    if (current === end || current === null || distances[current] === Infinity) {\r\n      break;\r\n    }\r\n    \r\n    unvisited.delete(current);\r\n    \r\n    // Check all neighbors of the current node\r\n    for (const neighbor in graph[current]) {\r\n      let availableModes;\r\n      \r\n      // Get available modes for this connection based on connection format\r\n      availableModes = getAvailableModes(current, neighbor, graph);\r\n      \r\n      // Skip if transport mode specified and not available for this route\r\n      if (transportMode && !availableModes.includes(transportMode)) {\r\n        continue;\r\n      }\r\n      \r\n      // Skip if there are no valid transport modes\r\n      if (availableModes.length === 0) {\r\n        continue;\r\n      }\r\n      \r\n      let edgeWeight;\r\n      let bestMode = transportMode;\r\n      let routeDistance;\r\n      \r\n      if (optimize === 'time') {\r\n        if (transportMode) {\r\n          // Use the specified transport mode\r\n          routeDistance = getDistance(current, neighbor, transportMode, graph);\r\n          if (routeDistance === null) continue; // Skip if mode not available\r\n          \r\n          const speed = getTransportSpeed(transportMode, travelData);\r\n          edgeWeight = routeDistance / speed;\r\n        } else {\r\n          // Find fastest mode available for this segment\r\n          let fastestTime = Infinity;\r\n          \r\n          for (const mode of availableModes) {\r\n            const distance = getDistance(current, neighbor, mode, graph);\r\n            if (distance === null) continue; // Skip if distance not available\r\n            \r\n            const speed = getTransportSpeed(mode, travelData);\r\n            const time = distance / speed;\r\n            \r\n            if (time < fastestTime) {\r\n              fastestTime = time;\r\n              bestMode = mode;\r\n              routeDistance = distance;\r\n            }\r\n          }\r\n          \r\n          if (fastestTime === Infinity) continue; // Skip if no valid mode found\r\n          edgeWeight = fastestTime;\r\n        }\r\n      } else if (optimize === 'cost') {\r\n        if (transportMode) {\r\n          // Use the specified transport mode\r\n          routeDistance = getDistance(current, neighbor, transportMode, graph);\r\n          if (routeDistance === null) continue; // Skip if mode not available\r\n          \r\n          edgeWeight = calculateSegmentCost(\r\n            transportMode, \r\n            routeDistance, \r\n            travelData, \r\n            playerCount\r\n          );\r\n        } else {\r\n          // Find cheapest mode available for this segment\r\n          let cheapestCost = Infinity;\r\n          \r\n          for (const mode of availableModes) {\r\n            const distance = getDistance(current, neighbor, mode, graph);\r\n            if (distance === null) continue; // Skip if distance not available\r\n            \r\n            const cost = calculateSegmentCost(\r\n              mode, \r\n              distance, \r\n              travelData, \r\n              playerCount\r\n            );\r\n            \r\n            if (cost < cheapestCost) {\r\n              cheapestCost = cost;\r\n              bestMode = mode;\r\n              routeDistance = distance;\r\n            }\r\n          }\r\n          \r\n          if (cheapestCost === Infinity) continue; // Skip if no valid mode found\r\n          edgeWeight = cheapestCost;\r\n        }\r\n      } else if (optimize === 'comfort') {\r\n        // For comfort, we'll prefer 1st class options and airships\r\n        // This is a simple heuristic - could be refined based on actual comfort metrics\r\n        const comfortRanking = {\r\n          'airship-ederia': 5,\r\n          'airship-bordering': 5,\r\n          'airship-distant': 5,\r\n          'ryanite-rail-1st': 4,\r\n          'ship-private': 4,\r\n          'expedited-rail': 3,\r\n          'ryanite-rail-standard': 2,\r\n          'ship-shared': 2,\r\n          'caravan': 1,\r\n          'swift-rider': 1\r\n        };\r\n        \r\n        if (transportMode) {\r\n          // We're still optimizing for time, but with the specified comfortable mode\r\n          routeDistance = getDistance(current, neighbor, transportMode, graph);\r\n          if (routeDistance === null) continue; // Skip if mode not available\r\n          \r\n          const speed = getTransportSpeed(transportMode, travelData);\r\n          edgeWeight = routeDistance / speed;\r\n        } else {\r\n          // Find most comfortable mode available\r\n          let mostComfortable = 0;\r\n          let comfortTime = Infinity;\r\n          \r\n          for (const mode of availableModes) {\r\n            const comfortLevel = comfortRanking[mode] || 0;\r\n            const distance = getDistance(current, neighbor, mode, graph);\r\n            if (distance === null) continue; // Skip if distance not available\r\n            \r\n            const speed = getTransportSpeed(mode, travelData);\r\n            const time = distance / speed;\r\n            \r\n            // Prioritize comfort, but use time as a tiebreaker\r\n            if (comfortLevel > mostComfortable || (comfortLevel === mostComfortable && time < comfortTime)) {\r\n              mostComfortable = comfortLevel;\r\n              comfortTime = time;\r\n              bestMode = mode;\r\n              routeDistance = distance;\r\n            }\r\n          }\r\n          \r\n          if (comfortTime === Infinity) continue; // Skip if no valid mode found\r\n          edgeWeight = comfortTime; // Still optimize for time among the most comfortable options\r\n        }\r\n      }\r\n      \r\n      // Skip if we couldn't find a valid route\r\n      if (edgeWeight === undefined || routeDistance === undefined) {\r\n        continue;\r\n      }\r\n      \r\n      const totalWeight = distances[current] + edgeWeight;\r\n      \r\n      if (totalWeight < distances[neighbor]) {\r\n        distances[neighbor] = totalWeight;\r\n        previous[neighbor] = current;\r\n        bestModes[current][neighbor] = {\r\n          mode: bestMode,\r\n          distance: routeDistance\r\n        };\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Reconstruct the path and gather segment details\r\n  const path = [];\r\n  const segments = [];\r\n  let current = end;\r\n  \r\n  while (current !== null && previous[current] !== null) {\r\n    const prev = previous[current];\r\n    path.unshift(current);\r\n    \r\n    // Get the best mode and distance for this segment\r\n    const modeInfo = bestModes[prev][current];\r\n    \r\n    if (modeInfo) {\r\n      // Add segment details\r\n      segments.unshift({\r\n        from: prev,\r\n        to: current,\r\n        distance: modeInfo.distance,\r\n        mode: modeInfo.mode\r\n      });\r\n    }\r\n    \r\n    current = prev;\r\n  }\r\n  \r\n  if (current === start) {\r\n    path.unshift(start);\r\n  }\r\n  \r\n  return {\r\n    path,\r\n    segments,\r\n    weight: distances[end],\r\n    valid: distances[end] !== Infinity && path.includes(end) && path.includes(start)\r\n  };\r\n}\r\n\r\nfunction calculateTotalTravelTime(segments, travelData) {\r\n  let totalTime = 0;\r\n  \r\n  for (const segment of segments) {\r\n    const speed = getTransportSpeed(segment.mode, travelData);\r\n    totalTime += segment.distance / speed;\r\n  }\r\n  \r\n  return totalTime;\r\n}\r\n\r\nfunction calculateTotalCost(segments, travelData, playerCount) {\r\n  let totalCost = 0;\r\n  \r\n  for (const segment of segments) {\r\n    totalCost += calculateSegmentCost(\r\n      segment.mode,\r\n      segment.distance,\r\n      travelData,\r\n      playerCount\r\n    );\r\n  }\r\n  \r\n  return totalCost;\r\n}\r\n\r\nfunction RoutePlanner({ travelData = {}, playerCount = 1, addToCart }) {\r\n  const [origin, setOrigin] = useState('');\r\n  const [destination, setDestination] = useState('');\r\n  const [transportMode, setTransportMode] = useState('');\r\n  const [prioritize, setPrioritize] = useState('time');\r\n  const [route, setRoute] = useState(null);\r\n  const [cityGraph, setCityGraph] = useState(defaultCityGraph);\r\n  \r\n  // Load travel times data from JSON file\r\n  useEffect(() => {\r\n    const loadTravelData = async () => {\r\n      try {\r\n        // Try to load from public/data directory\r\n        const response = await fetch('/data/travel-times.json');\r\n        if (!response.ok) {\r\n          console.warn('Could not load travel times from /data. Status:', response.status);\r\n          console.log('Using default city graph data');\r\n          return;\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setCityGraph(data);\r\n        console.log('Loaded travel times from /data directory');\r\n      } catch (error) {\r\n        console.error('Error loading travel times data:', error);\r\n        console.log('Using default city graph data');\r\n      }\r\n    };\r\n    \r\n    loadTravelData();\r\n  }, []);\r\n  \r\n  const cities = Object.keys(cityGraph);\r\n  \r\n  const calculateRoute = () => {\r\n    if (!origin || !destination) return;\r\n    \r\n    const result = findShortestPath(\r\n      cityGraph, \r\n      origin, \r\n      destination, \r\n      transportMode, \r\n      prioritize,\r\n      travelData,\r\n      playerCount\r\n    );\r\n    \r\n    if (result.valid) {\r\n      const totalTime = calculateTotalTravelTime(result.segments, travelData);\r\n      const totalCost = calculateTotalCost(result.segments, travelData, playerCount);\r\n      \r\n      setRoute({\r\n        ...result,\r\n        totalTime,\r\n        totalCost\r\n      });\r\n    } else {\r\n      setRoute(result);\r\n    }\r\n  };\r\n  \r\n  // Get available transport modes between all cities\r\n  const getAvailableTransportModes = () => {\r\n    if (!origin || !destination) return [];\r\n    \r\n    // Get all available modes across all cities\r\n    const allModes = new Set();\r\n    \r\n    // Helper function to check connection format and extract modes\r\n    const extractModes = (connection) => {\r\n      if (!connection) return [];\r\n      \r\n      if (connection.modes && typeof connection.modes === 'object' && !Array.isArray(connection.modes)) {\r\n        // New format with mode-specific distances\r\n        return Object.keys(connection.modes);\r\n      } else if (connection.modes && Array.isArray(connection.modes)) {\r\n        // Old format with a single distance for all modes\r\n        return connection.modes;\r\n      }\r\n      \r\n      return [];\r\n    };\r\n    \r\n    // If cities are directly connected\r\n    if (cityGraph[origin] && cityGraph[origin][destination]) {\r\n      return extractModes(cityGraph[origin][destination]);\r\n    }\r\n    \r\n    // For non-direct connections, return all possible transport modes\r\n    for (const city in cityGraph) {\r\n      for (const neighbor in cityGraph[city]) {\r\n        const modes = extractModes(cityGraph[city][neighbor]);\r\n        modes.forEach(mode => allModes.add(mode));\r\n      }\r\n    }\r\n    \r\n    return Array.from(allModes);\r\n  };\r\n  \r\n  // Filter transport modes that are available for the selected route\r\n  const availableTransportModes = getAvailableTransportModes();\r\n  \r\n  useEffect(() => {\r\n    // Reset route when inputs change\r\n    setRoute(null);\r\n  }, [origin, destination, transportMode, prioritize]);\r\n  \r\n  // Helper function to format time in days and hours\r\n  const formatTime = (days) => {\r\n    const wholeDays = Math.floor(days);\r\n    const hours = Math.round((days - wholeDays) * 24);\r\n    \r\n    if (wholeDays > 0 && hours > 0) {\r\n      return `${wholeDays} day${wholeDays !== 1 ? 's' : ''}, ${hours} hour${hours !== 1 ? 's' : ''}`;\r\n    } else if (wholeDays > 0) {\r\n      return `${wholeDays} day${wholeDays !== 1 ? 's' : ''}`;\r\n    } else {\r\n      return `${hours} hour${hours !== 1 ? 's' : ''}`;\r\n    }\r\n  };\r\n  \r\n  // Helper function to format cost as gold/silver\r\n  const formatCost = (cost) => {\r\n    const gold = Math.floor(cost);\r\n    const silver = Math.round((cost - gold) * 20);\r\n    \r\n    if (gold > 0 && silver > 0) {\r\n      return `${gold} gold, ${silver} silver`;\r\n    } else if (gold > 0) {\r\n      return `${gold} gold`;\r\n    } else {\r\n      return `${silver} silver`;\r\n    }\r\n  };\r\n  \r\n  // Add all transportation in the route to cart\r\n  const addRouteToCart = () => {\r\n    if (!route || !route.valid || !travelData || !travelData.travel) return;\r\n    \r\n    // Add each segment's transport mode to the cart\r\n    route.segments.forEach(segment => {\r\n      // Find the transport item in travelData\r\n      const standardModes = travelData.travel.standard || [];\r\n      const premiumModes = travelData.travel.premium || [];\r\n      const allTransportItems = [\r\n        ...standardModes,\r\n        ...premiumModes\r\n      ];\r\n      \r\n      const transportItem = allTransportItems.find(item => item && item.id === segment.mode);\r\n      \r\n      if (transportItem && addToCart) {\r\n        // Calculate days based on segment\r\n        const speed = getTransportSpeed(segment.mode, travelData);\r\n        const days = Math.ceil(segment.distance / speed);\r\n        \r\n        // Create a modified item with segment info\r\n        const itemWithSegment = {\r\n          ...transportItem,\r\n          segmentInfo: `${segment.from} → ${segment.to} (${segment.distance} miles)`\r\n        };\r\n        \r\n        // Add to cart with the calculated days\r\n        addToCart(itemWithSegment);\r\n      }\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"bg-gray-800 rounded-lg p-6 border-2 border-amber-600 shadow-lg\">\r\n      <h2 className=\"text-2xl font-bold text-amber-400 mb-5 flex items-center\">\r\n        <Navigation className=\"mr-3\" size={24} />\r\n        Ederian Route Planner\r\n      </h2>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-5\">\r\n        <div>\r\n          <label className=\"block text-base text-amber-300 mb-2 font-medium\">Origin:</label>\r\n          <select \r\n            className=\"w-full bg-gray-700 border-2 border-gray-600 rounded-md p-3 text-white text-base focus:border-amber-500 focus:outline-none\"\r\n            value={origin}\r\n            onChange={(e) => setOrigin(e.target.value)}\r\n          >\r\n            <option value=\"\">Select origin city</option>\r\n            {cities.map(city => (\r\n              <option key={city} value={city}>{city}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-base text-amber-300 mb-2 font-medium\">Destination:</label>\r\n          <select \r\n            className=\"w-full bg-gray-700 border-2 border-gray-600 rounded-md p-3 text-white text-base focus:border-amber-500 focus:outline-none\"\r\n            value={destination}\r\n            onChange={(e) => setDestination(e.target.value)}\r\n          >\r\n            <option value=\"\">Select destination city</option>\r\n            {cities.filter(city => city !== origin).map(city => (\r\n              <option key={city} value={city}>{city}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"mb-5\">\r\n        <label className=\"block text-base text-amber-300 mb-2 font-medium\">Prioritize:</label>\r\n        <div className=\"flex flex-wrap gap-3\">\r\n          <button \r\n            className={`px-4 py-2 rounded-md flex items-center text-base font-medium ${prioritize === 'time' ? 'bg-amber-600 text-white border-2 border-amber-400' : 'bg-gray-700 text-white border-2 border-gray-600 hover:bg-gray-600'}`}\r\n            onClick={() => setPrioritize('time')}\r\n          >\r\n            <Clock size={18} className=\"mr-2\" />\r\n            Fastest\r\n          </button>\r\n          <button \r\n            className={`px-4 py-2 rounded-md flex items-center text-base font-medium ${prioritize === 'cost' ? 'bg-amber-600 text-white border-2 border-amber-400' : 'bg-gray-700 text-white border-2 border-gray-600 hover:bg-gray-600'}`}\r\n            onClick={() => setPrioritize('cost')}\r\n          >\r\n            <DollarSign size={18} className=\"mr-2\" />\r\n            Cheapest\r\n          </button>\r\n          <button \r\n            className={`px-4 py-2 rounded-md flex items-center text-base font-medium ${prioritize === 'comfort' ? 'bg-amber-600 text-white border-2 border-amber-400' : 'bg-gray-700 text-white border-2 border-gray-600 hover:bg-gray-600'}`}\r\n            onClick={() => setPrioritize('comfort')}\r\n          >\r\n            <Compass size={18} className=\"mr-2\" />\r\n            Most Comfortable\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"mb-5\">\r\n        <label className=\"block text-base text-amber-300 mb-2 font-medium\">Transport Mode (Optional):</label>\r\n        <select \r\n          className=\"w-full bg-gray-700 border-2 border-gray-600 rounded-md p-3 text-white text-base focus:border-amber-500 focus:outline-none\"\r\n          value={transportMode}\r\n          onChange={(e) => setTransportMode(e.target.value)}\r\n        >\r\n          <option value=\"\">Any available mode</option>\r\n          {availableTransportModes.map(mode => {\r\n            // Safely access travel data with null checks\r\n            const standardModes = travelData?.travel?.standard || [];\r\n            const premiumModes = travelData?.travel?.premium || [];\r\n            const modeData = [...standardModes, ...premiumModes]\r\n              .find(item => item && item.id === mode);\r\n            \r\n            return modeData ? (\r\n              <option key={mode} value={mode}>\r\n                {modeData.name} ({modeData.speed})\r\n              </option>\r\n            ) : (\r\n              <option key={mode} value={mode}>{mode}</option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n      \r\n      <button \r\n        className=\"w-full bg-amber-500 hover:bg-amber-600 font-bold py-3 px-4 rounded-lg flex items-center justify-center text-black text-lg shadow-md transition-colors duration-200\"\r\n        onClick={calculateRoute}\r\n        disabled={!origin || !destination}\r\n      >\r\n        <Map size={20} className=\"mr-2\" />\r\n        Calculate Route\r\n      </button>\r\n      \r\n      \r\n      {route && route.valid && (\r\n        <div className=\"mt-6 p-5 bg-gray-900 rounded-lg border-2 border-amber-700\">\r\n          <h3 className=\"text-xl font-bold text-amber-400 mb-3\">Route Details</h3>\r\n          \r\n          <div className=\"space-y-3 mb-5\">\r\n            <div className=\"text-lg\">\r\n              <span className=\"text-amber-300 font-medium\">Path: </span>\r\n              <span className=\"text-white\">{route.path.join(\" → \")}</span>\r\n            </div>\r\n            \r\n            <div className=\"text-lg\">\r\n              <span className=\"text-amber-300 font-medium\">Total Distance: </span>\r\n              <span className=\"text-white\">{route.segments.reduce((total, segment) => total + segment.distance, 0)} miles</span>\r\n            </div>\r\n            \r\n            <div className=\"text-lg\">\r\n              <span className=\"text-amber-300 font-medium\">Total Travel Time: </span>\r\n              <span className=\"text-white\">{formatTime(route.totalTime)}</span>\r\n            </div>\r\n            \r\n            <div className=\"text-lg\">\r\n              <span className=\"text-amber-300 font-medium\">Estimated Cost: </span>\r\n              <span className=\"text-white\">{formatCost(route.totalCost)}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          {route.segments && route.segments.length > 0 && (\r\n            <div>\r\n              <h4 className=\"text-lg font-semibold text-amber-400 mb-3\">Segment Details</h4>\r\n              <div className=\"space-y-3 max-h-64 overflow-y-auto pr-2 pb-1\">\r\n                {route.segments.map((segment, index) => {\r\n                  // Safely access travel data with null checks\r\n                  const standardModes = travelData?.travel?.standard || [];\r\n                  const premiumModes = travelData?.travel?.premium || [];\r\n                  const modeData = [...standardModes, ...premiumModes]\r\n                    .find(item => item && item.id === segment.mode);\r\n                  \r\n                  const speed = getTransportSpeed(segment.mode, travelData);\r\n                  const segmentTime = segment.distance / speed;\r\n                  const segmentCost = calculateSegmentCost(\r\n                    segment.mode,\r\n                    segment.distance,\r\n                    travelData,\r\n                    playerCount\r\n                  );\r\n                  \r\n                  return (\r\n                    <div key={index} className=\"bg-gray-800 p-4 rounded-md border border-gray-700\">\r\n                      <div className=\"flex justify-between text-base\">\r\n                        <span className=\"text-white font-medium\">\r\n                          {segment.from} → {segment.to}\r\n                        </span>\r\n                        <span className=\"text-amber-400 font-bold\">\r\n                          {segment.distance} miles\r\n                        </span>\r\n                      </div>\r\n                      {modeData && (\r\n                        <div className=\"mt-2\">\r\n                          <span className=\"text-white flex items-center text-base\">\r\n                            <span className=\"mr-2 text-xl\">{modeData.image}</span> \r\n                            <span className=\"font-medium\">{modeData.name}</span> <span className=\"ml-2 text-gray-300\">({modeData.speed})</span>\r\n                          </span>\r\n                          <div className=\"flex justify-between text-sm mt-2 text-gray-200\">\r\n                            <span><span className=\"text-amber-300\">Time:</span> {formatTime(segmentTime)}</span>\r\n                            <span><span className=\"text-amber-300\">Cost:</span> {formatCost(segmentCost)}</span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {addToCart && (\r\n            <button\r\n              className=\"w-full mt-5 bg-gray-700 hover:bg-gray-600 font-bold py-3 rounded-lg flex items-center justify-center text-white text-base border border-gray-500 transition-colors duration-200\"\r\n              onClick={addRouteToCart}\r\n            >\r\n              <PlaneTakeoff size={18} className=\"mr-2\" />\r\n              Add Travel Options to Cart\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {route && !route.valid && (\r\n        <div className=\"mt-6 p-5 bg-gray-900 rounded-lg border-2 border-red-700 text-red-400 text-lg font-medium\">\r\n          No valid route found between these cities with the selected transport mode.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoutePlanner;","import React, { useState, useEffect } from 'react';\nimport { Scroll, ShoppingCart, Menu, X, ChevronRight, Minus, Plus, Info, Shield, Ship, Map, Home, Sparkles, Crown, Coffee } from 'lucide-react';\nimport './App.css';\nimport RoutePlanner from './RoutePlanner';\n\nfunction App() {\n  // State management\n  const [activeTab, setActiveTab] = useState('travel');\n  const [activeCategory, setActiveCategory] = useState('standard');\n  const [cart, setCart] = useState([]);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [playerCount, setPlayerCount] = useState(5); // Default 5 player characters\n  const [standardDaysEnabled, setStandardDaysEnabled] = useState(false);\n  const [standardDays, setStandardDays] = useState(7); // Default 7 days\n  \n  // Data structure for all travel options and services\n  const travelData = {\n    travel: {\n      standard: [\n        { id: \"caravan\", name: \"Caravan\", speed: \"24 miles/day\", cost: 1, costUnit: \"gold/person/day\", notes: \"Includes basic provisions and security\", image: \"🐪\", perPerson: true },\n        { id: \"ryanite-rail-1st\", name: \"Ryanite Rail (1st class)\", speed: \"36 miles/day\", cost: 2, costUnit: \"gold/person/day\", notes: \"Operates only between major cities and settlements\", image: \"🚆\", perPerson: true },\n        { id: \"ryanite-rail-standard\", name: \"Ryanite Rail (standard)\", speed: \"36 miles/day\", cost: 5, costUnit: \"silver/person/day\", notes: \"Operates only between major cities and settlements\", image: \"🚆\", perPerson: true },\n        { id: \"ship-private\", name: \"Ship (private cabin)\", speed: \"48 miles/day\", cost: 2, costUnit: \"gold/person/day\", notes: \"Available only along coastal routes and major rivers\", image: \"🚢\", perPerson: true },\n        { id: \"ship-shared\", name: \"Ship (shared quarters)\", speed: \"48 miles/day\", cost: 5, costUnit: \"silver/person/day\", notes: \"Available only along coastal routes and major rivers\", image: \"🚢\", perPerson: true },\n        { id: \"airship-ederia\", name: \"Airship (within Ederia)\", speed: \"96 miles/day\", cost: 3000, costUnit: \"gold/day\", notes: \"Requires minimum 3-day advance booking through House Astralor representatives\", image: \"🛸\" },\n        { id: \"airship-bordering\", name: \"Airship (bordering nations)\", speed: \"96 miles/day\", cost: 6000, costUnit: \"gold/day\", notes: \"Requires minimum 3-day advance booking through House Astralor representatives\", image: \"🛸\" },\n        { id: \"airship-distant\", name: \"Airship (distant territories)\", speed: \"96 miles/day\", cost: 9000, costUnit: \"gold/day\", notes: \"Requires minimum 3-day advance booking through House Astralor representatives\", image: \"🛸\" },\n      ],\n      premium: [\n        { id: \"expedited-rail\", name: \"Expedited Ryanite Rail\", speed: \"40 miles/day\", cost: 5, costUnit: \"gold/person/day\", notes: \"Priority boarding, private compartment, meals included, 10% speed increase\", image: \"🚅\", perPerson: true },\n        { id: \"swift-rider\", name: \"Swift Rider Service\", speed: \"60 miles/day\", cost: 10, costUnit: \"gold/day\", notes: \"Relay of horses stationed every 20 miles, limited to 2 riders per route, available only on main roads\", image: \"🐎\" },\n        { id: \"falcon-messenger\", name: \"House Falkrest Falcon Messenger\", speed: \"Varies\", cost: 20, costUnit: \"gold/message\", notes: \"Delivery of urgent sealed communications, reaches most destinations in Ederia within 1-2 days, limited to messages weighing less than 3 ounces\", image: \"🦅\" },\n      ]\n    },\n    security: {\n      watch: [\n        { id: \"small-guard\", name: \"Small Guard Detachment\", cost: 10, costUnit: \"gold/day\", notes: \"1 Sergeant, 4 Watchmen\", image: \"👮\", npcCount: 5 },\n        { id: \"medium-guard\", name: \"Medium Guard Detachment\", cost: 18, costUnit: \"gold/day\", notes: \"1 Lieutenant, 1 Sergeant, 8 Watchmen\", image: \"👮\", npcCount: 10 },\n        { id: \"large-guard\", name: \"Large Guard Detachment\", cost: 35, costUnit: \"gold/day\", notes: \"1 Captain, 2 Sergeants, 17 Watchmen\", image: \"👮\", npcCount: 20 },\n      ],\n      mercenary: [\n        { id: \"local-militia\", name: \"Local Militia\", cost: 15, costUnit: \"gold/day\", notes: \"20 fighters (varied training)\", image: \"⚔️\", npcCount: 20 },\n        { id: \"registered-company\", name: \"Registered Company\", cost: 40, costUnit: \"gold/day\", notes: \"15 professional soldiers\", image: \"⚔️\", npcCount: 15 },\n        { id: \"elite-company\", name: \"Elite Company\", cost: 100, costUnit: \"gold/day\", notes: \"10 veteran specialists\", image: \"⚔️\", npcCount: 10 },\n      ],\n      \n      potential: [\n        { id: \"silver-shields-info\", name: \"The Silver Shields\", cost: 100, costUnit: \"gold/day\", notes: \"Elite Company (10) - Specializes in personal protection and escort duties\", image: \"🛡️\", isInfo: true },\n        { id: \"thornefield-info\", name: \"Thornefield Sentinels\", cost: 40, costUnit: \"gold/day\", notes: \"Registered Company (15) - Expert in rural and wilderness operations\", image: \"🌲\", isInfo: true },\n        { id: \"shadow-riders-info\", name: \"Shadow Riders\", cost: 40, costUnit: \"gold/day\", notes: \"Registered Company (15) - Specialists in urban security and intelligence gathering\", image: \"🕵️\", isInfo: true },\n        { id: \"veltaris-info\", name: \"Veltaris Mariners\", cost: 100, costUnit: \"gold/day\", notes: \"Elite Company (10) - Naval and coastal security operations\", image: \"⚓\", isInfo: true },\n      ],\n      specialized: [\n        { id: \"wyvern-scout\", name: \"House Drakemoor Wyvern Scout\", cost: 75, costUnit: \"gold/day\", notes: \"Single Crownclaw Knight with wyvern mount, aerial reconnaissance and messaging, limited combat capability, 24-hour advance notice required\", image: \"🐉\", npcCount: 1 },\n        { id: \"mage-warden\", name: \"House Astralor Mage-Warden\", cost: 50, costUnit: \"gold/day\", notes: \"Specialized arcane security, detects magical threats and provides countermeasures, can establish temporary wards for safe lodging\", image: \"🧙\", npcCount: 1 },\n      ]\n    },\n    provisions: {\n      daily: [\n        { id: \"small-provisions\", name: \"Small Group Provisions\", cost: 5, costUnit: \"gold/day\", notes: \"For 5-10 people. Food, water, basic equipment maintenance\", image: \"🍖\" },\n        { id: \"medium-provisions\", name: \"Medium Group Provisions\", cost: 12, costUnit: \"gold/day\", notes: \"For 11-25 people. Includes pack animals and spare equipment\", image: \"🍖\" },\n        { id: \"large-provisions\", name: \"Large Group Provisions\", cost: 30, costUnit: \"gold/day\", notes: \"For 26-60 people. Includes field kitchen and medical supplies\", image: \"🍖\" },\n        { id: \"huge-provisions\", name: \"Huge Group Provisions\", cost: 60, costUnit: \"gold/day\", notes: \"For 61-100 people. Includes dedicated logistics staff\", image: \"🍖\" },\n      ],\n      specialized: [\n        { id: \"luxury-rations\", name: \"Luxury Rations\", cost: 2, costUnit: \"gold/person/day\", notes: \"Fine wines and spirits, fresh meats, variety of fruits and vegetables\", image: \"🍷\" },\n        { id: \"expedition-package\", name: \"Extended Expedition Package\", cost: 200, baseCost: true, additionalCost: 1, additionalCostUnit: \"gold/person/day\", notes: \"Weatherproof tents, portable furniture, one month of preserved rations, medicine chest with healing potions\", image: \"⛺\" },\n      ]\n    },\n    accommodations: {\n      lodging: [\n        { id: \"standard-inn\", name: \"Local Inn (standard)\", cost: 5, costUnit: \"silver/person/night\", notes: \"Private or shared room, basic meals\", image: \"🏨\", perPerson: true },\n        { id: \"premium-inn\", name: \"Local Inn (premium)\", cost: 2, costUnit: \"gold/person/night\", notes: \"Private room, quality meals, bath services\", image: \"🏨\", perPerson: true },\n        { id: \"noble-estate\", name: \"Noble Estate Hosting\", cost: 30, costUnit: \"gold/person\", notes: \"Luxury accommodations as guest of local nobility (Gift of 10-50 gold per person recommended)\", image: \"🏰\", perPerson: true, customizablePrice: true, minPrice: 10, maxPrice: 50 },\n        { id: \"embassy\", name: \"Ederian Embassy\", cost: 0, costUnit: \"No direct cost\", notes: \"Available only in major cities or foreign capitals, full diplomatic services (requires royal authorization)\", image: \"🏛️\" },\n        { id: \"encampment\", name: \"Field Encampment\", cost: 5, costUnit: \"gold/day (setup fee)\", additionalCost: \"plus provisions\", notes: \"Established by royal quartermasters, includes security perimeter\", image: \"⛺\" },\n      ],\n      administrative: [\n        { id: \"chancery\", name: \"Mobile Chancery\", cost: 25, costUnit: \"gold/day\", notes: \"Includes 2 royal scribes, official seals and documentation, secure message handling\", image: \"📜\" },\n        { id: \"herald\", name: \"Court Herald\", cost: 10, costUnit: \"gold/day\", notes: \"Makes official proclamations, arranges local meetings and audiences, manages protocol and ceremony\", image: \"📢\" },\n        { id: \"investigator\", name: \"Royal Investigator\", cost: 15, costUnit: \"gold/day\", notes: \"Specializes in evidence gathering, legal authority to question subjects, trained in detection of falsehoods\", image: \"🔍\" },\n      ]\n    },\n    magical: {\n      services: [\n        { id: \"arcane-lock\", name: \"Arcane Lock\", cost: 25, costUnit: \"gold/application\", notes: \"Secures documents or rooms against tampering\", image: \"🔒\" },\n        { id: \"truth-serum\", name: \"Truth Serum\", cost: 75, costUnit: \"gold/dose\", notes: \"Compels truthful answers for 1 hour (resisted by strong will)\", image: \"⚗️\" },\n        { id: \"scrying\", name: \"Location Scrying\", cost: 150, costUnit: \"gold/attempt\", notes: \"Attempts to locate specific person or object within 100 miles\", image: \"🔮\" },\n        { id: \"weather\", name: \"Weather Prediction\", cost: 40, costUnit: \"gold\", notes: \"Accurate 3-day forecast for region\", image: \"☁️\" },\n      ]\n    },\n    special: {\n      intelligence: [\n        { id: \"informants\", name: \"Local Informants\", cost: 30, costUnit: \"gold (average)\", notes: \"Market rumors and common knowledge, basic movements of notable figures, public sentiment reports\", image: \"👥\" },\n        { id: \"spy-network\", name: \"Royal Spy Network\", cost: 0, costUnit: \"Requires approval\", notes: \"Detailed reports on political movements, identification of potential threats, access to existing agents in the field\", image: \"🕵️\" },\n      ],\n      resources: [\n        { id: \"royal-seal\", name: \"Royal Seal Authority\", cost: 0, costUnit: \"N/A\", notes: \"Can requisition emergency resources, may command temporary service from any royal subject, grants access to secure locations\", image: \"👑\" },\n        { id: \"gift-chest\", name: \"Royal Gift Chest\", cost: 500, costUnit: \"gold (average)\", notes: \"Curated selection of diplomatic gifts, includes Ederian luxury goods, customized to recipient's known preferences\", image: \"🎁\" },\n        { id: \"banquet-fund\", name: \"Formal Banquet Fund\", cost: 300, costUnit: \"gold (average)\", notes: \"Finances to host local nobility or officials, includes entertainment and hospitality\", image: \"🍽️\" },\n        { id: \"cartographer\", name: \"Royal Cartographer\", cost: 20, costUnit: \"gold/day\", notes: \"Updates and creates detailed maps, documents new discoveries or changes\", image: \"🗺️\" },\n        { id: \"resupply\", name: \"House Thornefield Rapid Resupply\", cost: 0, costUnit: \"25% premium on provisions\", notes: \"Emergency food and supply delivery to remote locations\", image: \"📦\" },\n        { id: \"blessing\", name: \"House Emberlyn Blessing Ritual\", cost: 30, costUnit: \"gold\", notes: \"Ceremonial blessing for missions or endeavors, increases morale of local supporters\", image: \"✨\" },\n      ]\n    }\n  };\n\n  // Tab data for navigation\n  const tabs = [\n    { id: 'travel', label: 'Travel Options', icon: <Map size={20} />, categories: ['standard', 'premium'] },\n    { id: 'security', label: 'Security Services', icon: <Shield size={20} />, categories: ['watch', 'mercenary', 'specialized', 'potential'] },\n    { id: 'provisions', label: 'Provisions', icon: <Coffee size={20} />, categories: ['daily', 'specialized'] },\n    { id: 'accommodations', label: 'Accommodations', icon: <Home size={20} />, categories: ['lodging', 'administrative'] },\n    { id: 'magical', label: 'Magical Services', icon: <Sparkles size={20} />, categories: ['services'] },\n    { id: 'special', label: 'Special Resources', icon: <Crown size={20} />, categories: ['intelligence', 'resources'] },\n  ];\n\n  // Category labels\n  const categoryLabels = {\n    standard: 'Standard Travel',\n    premium: 'Premium Services',\n    watch: 'Ederian Watch',\n    mercenary: 'Mercenary Companies',\n    specialized: 'Specialized Security',\n    potential: 'Potential Companies',\n    daily: 'Daily Provisions',\n    specialized: 'Specialized Provisions',\n    lodging: 'Lodging Options',\n    administrative: 'Administrative Services',\n    services: 'Arcane Services',\n    intelligence: 'Intelligence Network',\n    resources: 'Resources & Services'\n  };\n\n  // Add item to cart\n  const addToCart = (item) => {\n    // Skip if it's just an informational item\n    if (item.isInfo) return;\n    \n    const existingItemIndex = cart.findIndex(cartItem => cartItem.id === item.id);\n    \n    // Set days value based on standardDaysEnabled setting\n    const daysValue = standardDaysEnabled ? standardDays : 1;\n    \n    // For items with customizable price, use the default price initially\n    let itemToAdd = { ...item };\n    if (item.customizablePrice) {\n      itemToAdd.customPriceValue = item.cost;\n    }\n    \n    if (existingItemIndex >= 0) {\n      const updatedCart = [...cart];\n      updatedCart[existingItemIndex].quantity += 1;\n      setCart(updatedCart);\n    } else {\n      setCart([...cart, { ...itemToAdd, quantity: 1, days: daysValue, people: item.perPerson ? 1 : 0 }]);\n    }\n  };\n\n  // Remove item from cart\n  const removeFromCart = (itemId) => {\n    setCart(cart.filter(item => item.id !== itemId));\n  };\n\n  // Update item quantity in cart\n  const updateQuantity = (itemId, newQuantity) => {\n    if (newQuantity < 1) return;\n    \n    const updatedCart = cart.map(item => \n      item.id === itemId ? { ...item, quantity: newQuantity } : item\n    );\n    setCart(updatedCart);\n  };\n\n  // Update days in cart - if standardized is enabled, update ALL items\n  const updateDays = (itemId, newDays) => {\n    if (newDays < 1) return;\n    \n    if (standardDaysEnabled) {\n      // Update standardDays and all items in cart\n      setStandardDays(newDays);\n      const updatedCart = cart.map(item => ({...item, days: newDays}));\n      setCart(updatedCart);\n    } else {\n      // Just update this one item\n      const updatedCart = cart.map(item => \n        item.id === itemId ? { ...item, days: newDays } : item\n      );\n      setCart(updatedCart);\n    }\n  };\n\n  // Update people in cart\n  const updatePeople = (itemId, newPeople) => {\n    if (newPeople < 1) return;\n    \n    const updatedCart = cart.map(item => \n      item.id === itemId ? { ...item, people: newPeople } : item\n    );\n    setCart(updatedCart);\n  };\n\n  // Update custom price\n  const updateCustomPrice = (itemId, newPrice) => {\n    const updatedCart = cart.map(item => {\n      if (item.id === itemId && item.customizablePrice) {\n        // Enforce min/max bounds\n        const boundedPrice = Math.min(Math.max(newPrice, item.minPrice || 0), item.maxPrice || 1000);\n        return { ...item, customPriceValue: boundedPrice };\n      }\n      return item;\n    });\n    \n    setCart(updatedCart);\n  };\n\n  // Calculate total party size (PCs + NPCs)\n  const calculateTotalPartySize = () => {\n    // Start with player characters\n    let totalSize = playerCount;\n    \n    // Add all NPCs from security services in the cart\n    cart.forEach(item => {\n      if (item.npcCount) {\n        totalSize += item.npcCount * item.quantity;\n      }\n    });\n    \n    return totalSize;\n  };\n  \n  // Calculate total cost\n  const calculateTotal = () => {\n    const totalPartySize = calculateTotalPartySize();\n    \n    return cart.reduce((total, item) => {\n      let itemCost = 0;\n      \n      // Extract numeric value and handle silver/gold conversion\n      let baseCost = item.customizablePrice && item.customPriceValue !== undefined ? \n                    item.customPriceValue : (item.cost || 0);\n      const costUnit = item.costUnit || '';\n      \n      if (costUnit.includes('silver')) {\n        baseCost = baseCost / 20; // 20 silver = 1 gold\n      }\n      \n      // Calculate based on different cost structures\n      if (costUnit.includes('/day') && !costUnit.includes('/person')) {\n        itemCost = baseCost * item.days * item.quantity;\n      } else if (costUnit.includes('/week') && !costUnit.includes('/person')) {\n        itemCost = baseCost * Math.ceil(item.days / 7) * item.quantity;\n      } else if (costUnit.includes('/person/day')) {\n        itemCost = baseCost * totalPartySize * item.days * item.quantity;\n      } else if (costUnit.includes('/person/week')) {\n        itemCost = baseCost * totalPartySize * Math.ceil(item.days / 7) * item.quantity;\n      } else if (costUnit.includes('/person') && !costUnit.includes('/day') && !costUnit.includes('/night')) {\n        itemCost = baseCost * totalPartySize * item.quantity;\n      } else if (costUnit.includes('/night') && !costUnit.includes('/person')) {\n        itemCost = baseCost * item.days * item.quantity;\n      } else if (costUnit.includes('/person/night')) {\n        itemCost = baseCost * totalPartySize * item.days * item.quantity;\n      } else if (costUnit.includes('/message') || costUnit.includes('/dose') || costUnit.includes('/application')) {\n        itemCost = baseCost * item.quantity;\n      } else if (item.baseCost) {\n        // Handle base cost + per person/day\n        const additionalCost = item.additionalCost || 0;\n        itemCost = (baseCost + (additionalCost * totalPartySize * item.days)) * item.quantity;\n      } else {\n        // Flat rate items\n        itemCost = baseCost * item.quantity;\n      }\n      \n      return total + itemCost;\n    }, 0);\n  };\n\n  // Format cost as gold/silver string\n  const formatCost = (cost) => {\n    const gold = Math.floor(cost);\n    const silver = Math.round((cost - gold) * 20);\n    \n    if (gold > 0 && silver > 0) {\n      return `${gold} gold, ${silver} silver`;\n    } else if (gold > 0) {\n      return `${gold} gold`;\n    } else {\n      return `${silver} silver`;\n    }\n  };\n\n  // Calculate item cost for display\n  const calculateItemCost = (item) => {\n    const totalPartySize = calculateTotalPartySize();\n    \n    let itemCost = 0;\n    \n    // Extract numeric value and handle silver/gold conversion\n    let baseCost = item.customizablePrice && item.customPriceValue !== undefined ? \n                  item.customPriceValue : (item.cost || 0);\n    const costUnit = item.costUnit || '';\n    \n    if (costUnit.includes('silver')) {\n      baseCost = baseCost / 20; // 20 silver = 1 gold\n    }\n    \n    // Calculate based on different cost structures\n    if (costUnit.includes('/day') && !costUnit.includes('/person')) {\n      itemCost = baseCost * item.days * item.quantity;\n    } else if (costUnit.includes('/week') && !costUnit.includes('/person')) {\n      itemCost = baseCost * Math.ceil(item.days / 7) * item.quantity;\n    } else if (costUnit.includes('/person/day')) {\n      itemCost = baseCost * totalPartySize * item.days * item.quantity;\n    } else if (costUnit.includes('/person/week')) {\n      itemCost = baseCost * totalPartySize * Math.ceil(item.days / 7) * item.quantity;\n    } else if (costUnit.includes('/person') && !costUnit.includes('/day') && !costUnit.includes('/night')) {\n      itemCost = baseCost * totalPartySize * item.quantity;\n    } else if (costUnit.includes('/night') && !costUnit.includes('/person')) {\n      itemCost = baseCost * item.days * item.quantity;\n    } else if (costUnit.includes('/person/night')) {\n      itemCost = baseCost * totalPartySize * item.days * item.quantity;\n    } else if (costUnit.includes('/message') || costUnit.includes('/dose') || costUnit.includes('/application')) {\n      itemCost = baseCost * item.quantity;\n    } else if (item.baseCost) {\n      // Handle base cost + per person/day\n      const additionalCost = item.additionalCost || 0;\n      itemCost = (baseCost + (additionalCost * totalPartySize * item.days)) * item.quantity;\n    } else {\n      // Flat rate items\n      itemCost = baseCost * item.quantity;\n    }\n    \n    return itemCost;\n  };\n\n  // Handle tab change\n  const handleTabChange = (tabId) => {\n    setActiveTab(tabId);\n    // Set default category for the new tab\n    setActiveCategory(tabs.find(tab => tab.id === tabId).categories[0]);\n  };\n\n  // Handle category change\n  const handleCategoryChange = (categoryId) => {\n    setActiveCategory(categoryId);\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-900 text-white font-sans\">\n      {/* Header */}\n      <header className=\"bg-gray-800 border-b border-gray-700 p-4 flex justify-between items-center\">\n        <div className=\"flex items-center space-x-2\">\n          <Scroll size={24} className=\"text-amber-500\" />\n          <h1 className=\"text-xl font-bold text-amber-500\">Ederian Travel Tracker</h1>\n        </div>\n        <div className=\"flex space-x-4 items-center\">\n          <div className=\"bg-gray-900 p-2 rounded flex items-center mr-2\">\n            <span className=\"text-sm text-gray-400 mr-2\">PCs:</span>\n            <button \n              className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n              onClick={() => setPlayerCount(Math.max(1, playerCount - 1))}\n            >\n              <Minus size={14} />\n            </button>\n            <span className=\"mx-2 w-6 text-center\">{playerCount}</span>\n            <button \n              className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n              onClick={() => setPlayerCount(playerCount + 1)}\n            >\n              <Plus size={14} />\n            </button>\n          </div>\n          \n          <div className=\"bg-gray-900 p-2 rounded flex items-center mr-2\">\n            <span className=\"text-sm text-gray-400 mr-2\">NPCs:</span>\n            <span className=\"w-6 text-center\">{calculateTotalPartySize() - playerCount}</span>\n          </div>\n          \n          <div className=\"bg-gray-900 p-2 rounded flex items-center mr-2\">\n            <div className=\"flex items-center space-x-2\">\n              <div>\n                <label className=\"text-sm text-gray-400 mr-2\">Standard Travel Days:</label>\n                <div className=\"flex items-center\">\n                  <button \n                    className={`px-3 py-1 text-xs rounded-l ${standardDaysEnabled ? 'bg-amber-600 text-white' : 'bg-gray-700 text-gray-300'}`}\n                    onClick={() => setStandardDaysEnabled(true)}\n                  >\n                    ON\n                  </button>\n                  <button \n                    className={`px-3 py-1 text-xs rounded-r ${!standardDaysEnabled ? 'bg-amber-600 text-white' : 'bg-gray-700 text-gray-300'}`}\n                    onClick={() => setStandardDaysEnabled(false)}\n                  >\n                    OFF\n                  </button>\n                </div>\n              </div>\n              {standardDaysEnabled && (\n                <div className=\"flex items-center\">\n                  <button \n                    className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                    onClick={() => setStandardDays(Math.max(1, standardDays - 1))}\n                  >\n                    <Minus size={14} />\n                  </button>\n                  <span className=\"mx-2 w-6 text-center\">{standardDays}</span>\n                  <button \n                    className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                    onClick={() => {\n                      const newDays = standardDays + 1;\n                      setStandardDays(newDays);\n                      // Update all items in cart\n                      const updatedCart = cart.map(item => ({...item, days: newDays}));\n                      setCart(updatedCart);\n                    }}\n                  >\n                    <Plus size={14} />\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <button \n            className=\"bg-amber-600 hover:bg-amber-700 p-2 rounded flex items-center space-x-1\"\n            onClick={() => setSidebarOpen(!sidebarOpen)}\n          >\n            <ShoppingCart size={20} />\n            <span>Cart ({cart.length})</span>\n          </button>\n        </div>\n      </header>\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Main Content */}\n        <main className=\"flex-1 overflow-y-auto p-4\">\n          {/* Tab Navigation */}\n          <div className=\"mb-4 flex overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-700\">\n            {tabs.map(tab => (\n              <button\n                key={tab.id}\n                className={`flex items-center px-4 py-2 mr-2 rounded-lg transition-colors ${\n                  activeTab === tab.id \n                    ? 'bg-gray-700 text-amber-500 border border-amber-700' \n                    : 'bg-gray-800 hover:bg-gray-700'\n                }`}\n                onClick={() => handleTabChange(tab.id)}\n              >\n                <span className=\"mr-2\">{tab.icon}</span>\n                {tab.label}\n              </button>\n            ))}\n          </div>\n          \n          {/* Category Selection */}\n          <div className=\"mb-6 flex flex-wrap gap-2\">\n            {tabs.find(tab => tab.id === activeTab).categories.map(category => (\n              <button\n                key={category}\n                className={`px-3 py-1 text-sm rounded-full transition-colors ${\n                  activeCategory === category \n                    ? 'bg-amber-600 text-white' \n                    : 'bg-gray-800 hover:bg-gray-700'\n                }`}\n                onClick={() => handleCategoryChange(category)}\n              >\n                {categoryLabels[category]}\n              </button>\n            ))}\n          </div>\n          \n          {/* Route Planner - only show in travel tab */}\n          {activeTab === 'travel' && (\n            <div className=\"mb-6\">\n              <RoutePlanner \n                travelData={travelData} \n                playerCount={playerCount} \n                addToCart={addToCart} \n              />\n            </div>\n          )}\n          \n          {/* Items Grid */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {travelData[activeTab][activeCategory].map(item => (\n              <div key={item.id}\n                className={`bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-amber-600 transition-colors ${\n                  item.isInfo ? 'opacity-80' : ''\n                }`}\n              >\n                <div className=\"p-4\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-2xl mr-2\">{item.image}</span>\n                      <h3 className=\"text-lg font-semibold\">{item.name}</h3>\n                    </div>\n                    {!item.isInfo && (\n                      <button\n                        className=\"bg-amber-600 hover:bg-amber-700 p-1.5 rounded-full\"\n                        onClick={() => addToCart(item)}\n                      >\n                        <Plus size={16} />\n                      </button>\n                    )}\n                  </div>\n                  \n                  <div className=\"mt-2\">\n                    <div className=\"text-amber-500 font-medium\">\n                      {item.cost} {item.costUnit || ''}\n                      {item.baseCost && item.additionalCost && ` + ${item.additionalCost} ${item.additionalCostUnit || ''}`}\n                    </div>\n                    {item.speed && (\n                      <div className=\"text-gray-400 text-sm\">{item.speed}</div>\n                    )}\n                    {item.npcCount && (\n                      <div className=\"text-gray-300 text-sm mt-1\">NPCs: {item.npcCount}</div>\n                    )}\n                    <p className=\"text-gray-400 text-sm mt-1\">{item.notes || ''}</p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </main>\n\n        {/* Sidebar Cart */}\n        <aside className={`w-96 bg-gray-800 border-l border-gray-700 transform transition-transform ${\n          sidebarOpen ? 'translate-x-0' : 'translate-x-full'\n        } fixed right-0 top-0 h-screen overflow-y-auto z-10 p-4`}>\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-bold text-amber-500 flex items-center\">\n              <ShoppingCart size={20} className=\"mr-2\" />\n              Your Selection\n            </h2>\n            <button \n              className=\"text-gray-400 hover:text-white\"\n              onClick={() => setSidebarOpen(false)}\n            >\n              <X size={20} />\n            </button>\n          </div>\n\n          {cart.length === 0 ? (\n            <div className=\"text-gray-400 p-4 text-center\">\n              <div className=\"text-4xl mb-2\">🛒</div>\n              <p>Your cart is empty</p>\n              <p className=\"text-sm mt-2\">Add items from the catalog to begin tracking costs</p>\n            </div>\n          ) : (\n            <>\n              <div className=\"space-y-4\">\n                {cart.map(item => (\n                  <div key={item.id} className=\"bg-gray-900 rounded-lg p-3 relative\">\n                    <button \n                      className=\"absolute top-2 right-2 text-gray-500 hover:text-red-500\"\n                      onClick={() => removeFromCart(item.id)}\n                    >\n                      <X size={16} />\n                    </button>\n                    \n                    <div className=\"flex items-start mb-2\">\n                      <span className=\"text-2xl mr-2\">{item.image}</span>\n                      <div>\n                        <h4 className=\"font-medium\">{item.name}</h4>\n                        <div className=\"text-sm text-amber-500\">\n                          {item.cost} {item.costUnit || ''}\n                          {item.baseCost && item.additionalCost && ` + ${item.additionalCost} ${item.additionalCostUnit || ''}`}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-2 mt-3\">\n                      {item.npcCount ? (\n                        <div className=\"mb-2 bg-gray-700 p-2 rounded text-sm\">\n                          <span className=\"text-amber-400\">+{item.npcCount}</span> NPCs added to party\n                        </div>\n                      ) : null}\n                    \n                      <div className=\"flex items-center justify-between\">\n                        <label className=\"text-sm text-gray-400\">Quantity:</label>\n                        <div className=\"flex items-center\">\n                          <button \n                            className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                            onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                          >\n                            <Minus size={14} />\n                          </button>\n                          <span className=\"mx-2 w-6 text-center\">{item.quantity}</span>\n                          <button \n                            className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                            onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                          >\n                            <Plus size={14} />\n                          </button>\n                        </div>\n                      </div>\n                      \n                      {/* Only show days input for items with day-based pricing */}\n                      {(item.costUnit.includes('/day') || item.costUnit.includes('/night') || item.costUnit.includes('/week') || item.baseCost) && (\n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"text-sm text-gray-400\">Days:</label>\n                          <div className=\"flex items-center\">\n                            {standardDaysEnabled ? (\n                              <div className=\"bg-amber-700 text-xs px-2 py-1 rounded text-white\">\n                                Standardized: {standardDays}\n                              </div>\n                            ) : (\n                              <>\n                                <button \n                                  className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                                  onClick={() => updateDays(item.id, item.days - 1)}\n                                >\n                                  <Minus size={14} />\n                                </button>\n                                <span className=\"mx-2 w-6 text-center\">{item.days}</span>\n                                <button \n                                  className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                                  onClick={() => updateDays(item.id, item.days + 1)}\n                                >\n                                  <Plus size={14} />\n                                </button>\n                              </>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      \n                      {/* Customizable price field */}\n                      {item.customizablePrice && (\n                        <div className=\"flex items-center justify-between mt-2\">\n                          <label className=\"text-sm text-gray-400\">Custom Gift (per person):</label>\n                          <div className=\"flex items-center\">\n                            <input\n                              type=\"number\"\n                              min={item.minPrice || 0}\n                              max={item.maxPrice || 100}\n                              value={item.customPriceValue}\n                              onChange={(e) => updateCustomPrice(item.id, parseInt(e.target.value) || 0)}\n                              className=\"w-16 bg-gray-700 border border-gray-600 rounded p-1 text-center text-white\"\n                            />\n                            <span className=\"ml-1 text-amber-500\">gold</span>\n                          </div>\n                        </div>\n                      )}\n                      \n                      {/* Only show people input for items with per-person pricing */}\n                      {(item.perPerson) && (\n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"text-sm text-gray-400\">People:</label>\n                          <div className=\"flex items-center\">\n                            <button \n                              className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                              onClick={() => updatePeople(item.id, item.people - 1)}\n                            >\n                              <Minus size={14} />\n                            </button>\n                            <span className=\"mx-2 w-6 text-center\">{item.people}</span>\n                            <button \n                              className=\"p-1 bg-gray-800 rounded hover:bg-gray-700\"\n                              onClick={() => updatePeople(item.id, item.people + 1)}\n                            >\n                              <Plus size={14} />\n                            </button>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"mt-3 text-right font-medium\">\n                      Subtotal: {formatCost(calculateItemCost(item))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n              \n              <div className=\"mt-6 border-t border-gray-700 pt-4\">\n                <div className=\"flex justify-between items-center mb-3\">\n                  <span className=\"text-gray-400 text-sm\">Total Party Size:</span>\n                  <span className=\"text-white\">{calculateTotalPartySize()} ({playerCount} PCs + {calculateTotalPartySize() - playerCount} NPCs)</span>\n                </div>\n                <div className=\"flex justify-between text-lg font-bold mb-1\">\n                  <span>Total:</span>\n                  <span className=\"text-amber-500\">{formatCost(calculateTotal())}</span>\n                </div>\n                <p className=\"text-xs text-gray-400\">All requisitions by the King's Hand must be properly documented and submitted to the Royal Treasurer's office within 30 days.</p>\n              </div>\n              \n              <button className=\"w-full bg-amber-600 hover:bg-amber-700 font-bold py-2 rounded-lg mt-4 flex items-center justify-center\">\n                <Scroll size={16} className=\"mr-2\" />\n                Generate Requisition Order\n              </button>\n            </>\n          )}\n        </aside>\n      </div>\n      \n      {/* Bottom Bar - Total */}\n      <footer className=\"bg-gray-800 border-t border-gray-700 p-3 sticky bottom-0\">\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Info size={16} className=\"text-gray-400\" />\n              <span className=\"text-sm text-gray-400\">\n                {cart.length} items selected\n              </span>\n            </div>\n            <div className=\"text-sm border-l border-gray-600 pl-4\">\n              <span className=\"text-gray-400\">Total Party Size: </span>\n              <span className=\"font-medium text-white\">{calculateTotalPartySize()}</span>\n              <span className=\"text-gray-500 text-xs ml-1\">({playerCount} PCs + {calculateTotalPartySize() - playerCount} NPCs)</span>\n            </div>\n          </div>\n          <div className=\"flex items-center\">\n            <span className=\"mr-2\">Total Cost:</span>\n            <span className=\"text-lg font-bold text-amber-500\">{formatCost(calculateTotal())}</span>\n          </div>\n          <button \n            className=\"bg-gray-700 hover:bg-gray-600 p-2 rounded flex items-center space-x-1\"\n            onClick={() => setSidebarOpen(true)}\n          >\n            <ShoppingCart size={16} />\n            <span>View Cart</span>\n            <ChevronRight size={16} />\n          </button>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}